# BÃO CÃO GIá»®A KÃŒ MÃ”N Há»ŒC
# CÃ”NG NGHá»† PHáº¦N Má»€M

<div align="center">

## Äá»€ TÃ€I: XÃ‚Y Dá»°NG WEBSITE Báº°NG REACT
### **Sáº¡p Phim - Ná»n táº£ng xem phim trá»±c tuyáº¿n vÃ  máº¡ng xÃ£ há»™i**

---

### TRÆ¯á»œNG Äáº I Há»ŒC KIáº¾N TRÃšC
### KHOA CÃ”NG NGHá»† THÃ”NG TIN

</div>

---

## THÃ”NG TIN Äá»€ TÃ€I

**Sinh viÃªn thá»±c hiá»‡n**: HoÃ ng VÄƒn NghÄ©a  
**MSSV**: 2351220040  
**Lá»›p**: 23CT1  
**Giáº£ng viÃªn hÆ°á»›ng dáº«n**: PHáº M THá»Š DUNG  
**Thá»i gian thá»±c hiá»‡n**: ThÃ¡ng 8 - ThÃ¡ng 11 / 2025  
**NgÃ y bÃ¡o cÃ¡o**: 13 thÃ¡ng 11 nÄƒm 2025

---

## Má»¤C Lá»¤C

### **CHÆ¯Æ NG 1: Tá»”NG QUAN Vá»€ Há»† THá»NG**
1. [Giá»›i thiá»‡u dá»± Ã¡n](#11-giá»›i-thiá»‡u-dá»±-Ã¡n)
2. [Má»¥c tiÃªu vÃ  pháº¡m vi](#12-má»¥c-tiÃªu-vÃ -pháº¡m-vi)
3. [PhÃ¢n tÃ­ch nghiá»‡p vá»¥](#13-phÃ¢n-tÃ­ch-nghiá»‡p-vá»¥)
   - 3.1. [XÃ¡c Ä‘á»‹nh yÃªu cáº§u chá»©c nÄƒng](#131-xÃ¡c-Ä‘á»‹nh-yÃªu-cáº§u-chá»©c-nÄƒng)
   - 3.2. [XÃ¡c Ä‘á»‹nh yÃªu cáº§u phi chá»©c nÄƒng](#132-xÃ¡c-Ä‘á»‹nh-yÃªu-cáº§u-phi-chá»©c-nÄƒng)
   - 3.3. [PhÃ¢n tÃ­ch Ä‘á»‘i tÆ°á»£ng sá»­ dá»¥ng](#133-phÃ¢n-tÃ­ch-Ä‘á»‘i-tÆ°á»£ng-sá»­-dá»¥ng)
4. [Thiáº¿t káº¿ há»‡ thá»‘ng](#14-thiáº¿t-káº¿-há»‡-thá»‘ng)
   - 4.1. [Kiáº¿n trÃºc tá»•ng thá»ƒ](#141-kiáº¿n-trÃºc-tá»•ng-thá»ƒ)
   - 4.2. [Biá»ƒu Ä‘á»“ Use Case](#142-biá»ƒu-Ä‘á»“-use-case)
   - 4.3. [Biá»ƒu Ä‘á»“ Activity](#143-biá»ƒu-Ä‘á»“-activity)
   - 4.4. [Biá»ƒu Ä‘á»“ Sequence](#144-biá»ƒu-Ä‘á»“-sequence)
   - 4.5. [Thiáº¿t káº¿ cÆ¡ sá»Ÿ dá»¯ liá»‡u](#145-thiáº¿t-káº¿-cÆ¡-sá»Ÿ-dá»¯-liá»‡u)
5. [CÃ´ng nghá»‡ sá»­ dá»¥ng](#15-cÃ´ng-nghá»‡-sá»­-dá»¥ng)

### **CHÆ¯Æ NG 2: THá»°C NGHIá»†M VÃ€ TRIá»‚N KHAI**
1. [Quy trÃ¬nh phÃ¡t triá»ƒn](#21-quy-trÃ¬nh-phÃ¡t-triá»ƒn)
2. [CÃ´ng cá»¥ quáº£n lÃ½ dá»± Ã¡n](#22-cÃ´ng-cá»¥-quáº£n-lÃ½-dá»±-Ã¡n)
3. [Thiáº¿t káº¿ giao diá»‡n (UI/UX)](#23-thiáº¿t-káº¿-giao-diá»‡n-uiux)
4. [Triá»ƒn khai cÃ¡c module chÃ­nh](#24-triá»ƒn-khai-cÃ¡c-module-chÃ­nh)
5. [Testing vÃ  Quality Assurance](#25-testing-vÃ -quality-assurance)
6. [Deployment vÃ  DevOps](#26-deployment-vÃ -devops)
7. [Káº¿t quáº£ Ä‘áº¡t Ä‘Æ°á»£c](#27-káº¿t-quáº£-Ä‘áº¡t-Ä‘Æ°á»£c)

### **Káº¾T LUáº¬N VÃ€ HÆ¯á»šNG PHÃT TRIá»‚N**

### **TÃ€I LIá»†U THAM KHáº¢O**


---

# CHÆ¯Æ NG 1: Tá»”NG QUAN Vá»€ Há»† THá»NG

## 1.1. Giá»›i thiá»‡u dá»± Ã¡n

### 1.1.1. Bá»‘i cáº£nh ra Ä‘á»i

Trong thá»i Ä‘áº¡i cÃ´ng nghá»‡ sá»‘ 4.0, nhu cáº§u giáº£i trÃ­ trá»±c tuyáº¿n Ä‘Ã£ trá»Ÿ thÃ nh má»™t pháº§n khÃ´ng thá»ƒ thiáº¿u trong cuá»™c sá»‘ng hÃ ng ngÃ y. CÃ¡c ná»n táº£ng streaming nhÆ° Netflix, Disney+, vÃ  Amazon Prime Ä‘Ã£ chá»©ng minh tiá»m nÄƒng to lá»›n cá»§a thá»‹ trÆ°á»ng nÃ y. Tuy nhiÃªn, háº§u háº¿t cÃ¡c ná»n táº£ng hiá»‡n táº¡i chá»‰ táº­p trung vÃ o viá»‡c cung cáº¥p ná»™i dung mÃ  chÆ°a táº­n dá»¥ng yáº¿u tá»‘ cá»™ng Ä‘á»“ng vÃ  tÆ°Æ¡ng tÃ¡c xÃ£ há»™i.

**Sáº¡p Phim** Ä‘Æ°á»£c phÃ¡t triá»ƒn vá»›i má»¥c tiÃªu khÃ´ng chá»‰ lÃ  má»™t ná»n táº£ng xem phim Ä‘Æ¡n thuáº§n, mÃ  cÃ²n lÃ  má»™t **máº¡ng xÃ£ há»™i Ä‘iá»‡n áº£nh** - nÆ¡i ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ:
- Xem phim cháº¥t lÆ°á»£ng cao
- TÆ°Æ¡ng tÃ¡c vá»›i báº¡n bÃ¨ qua chat vÃ  bÃ¬nh luáº­n
- Nháº­n gá»£i Ã½ phim thÃ´ng minh tá»« AI
- Chia sáº» tráº£i nghiá»‡m Ä‘iá»‡n áº£nh

### 1.1.2. Váº¥n Ä‘á» cáº§n giáº£i quyáº¿t

| Váº¥n Ä‘á» | Giáº£i phÃ¡p cá»§a Sáº¡p Phim |
|--------|------------------------|
| **Tráº£i nghiá»‡m Ä‘Æ¡n láº»**: NgÆ°á»i dÃ¹ng xem phim má»™t mÃ¬nh, thiáº¿u tÆ°Æ¡ng tÃ¡c | TÃ­ch há»£p tÃ­nh nÄƒng máº¡ng xÃ£ há»™i: káº¿t báº¡n, chat, bÃ¬nh luáº­n |
| **KhÃ³ tÃ¬m phim phÃ¹ há»£p**: QuÃ¡ nhiá»u lá»±a chá»n, khÃ³ quyáº¿t Ä‘á»‹nh | AI chatbot tÆ° váº¥n vÃ  gá»£i Ã½ phim dá»±a trÃªn sá»Ÿ thÃ­ch |
| **Thiáº¿u cá»™ng Ä‘á»“ng**: KhÃ´ng cÃ³ khÃ´ng gian Ä‘á»ƒ tháº£o luáº­n | Há»‡ thá»‘ng bÃ¬nh luáº­n nested, chia sáº» vá»›i báº¡n bÃ¨ |
| **KhÃ´ng liÃªn tá»¥c**: Xem dá»Ÿ pháº£i tÃ¬m láº¡i tá»« Ä‘áº§u | LÆ°u lá»‹ch sá»­ xem, resume tá»« vá»‹ trÃ­ Ä‘Ã£ dá»«ng |
| **Ná»™i dung khÃ´ng Ä‘a dáº¡ng**: Chá»‰ má»™t loáº¡i phim | Phim láº», phim bá»™, Ä‘a thá»ƒ loáº¡i, Ä‘a quá»‘c gia |

### 1.1.3. Äá»‘i tÆ°á»£ng hÆ°á»›ng tá»›i

```
Äá»‘i tÆ°á»£ng chÃ­nh:
â”œâ”€â”€ NgÆ°á»i xem phim (18-35 tuá»•i)
â”‚   â”œâ”€â”€ YÃªu thÃ­ch Ä‘iá»‡n áº£nh
â”‚   â”œâ”€â”€ CÃ³ nhu cáº§u giáº£i trÃ­ trá»±c tuyáº¿n
â”‚   â””â”€â”€ Muá»‘n káº¿t ná»‘i vá»›i cá»™ng Ä‘á»“ng
â”œâ”€â”€ NhÃ  quáº£n trá»‹ ná»™i dung
â”‚   â”œâ”€â”€ BiÃªn táº­p viÃªn phim
â”‚   â””â”€â”€ Quáº£n trá»‹ viÃªn há»‡ thá»‘ng
â””â”€â”€ NhÃ  phÃ¡t triá»ƒn
    â””â”€â”€ CÃ³ thá»ƒ má»Ÿ rá»™ng vÃ  tÃ­ch há»£p
```

---

## 1.2. Má»¥c tiÃªu vÃ  pháº¡m vi

### 1.2.1. Má»¥c tiÃªu dá»± Ã¡n

#### Má»¥c tiÃªu chÃ­nh:
1. **XÃ¢y dá»±ng ná»n táº£ng streaming hoÃ n chá»‰nh**
   - Há»— trá»£ phim láº» vÃ  phim bá»™
   - Video player vá»›i Ä‘áº§y Ä‘á»§ tÃ­nh nÄƒng
   - Multi-quality streaming

2. **TÃ­ch há»£p tÃ­nh nÄƒng máº¡ng xÃ£ há»™i**
   - Há»‡ thá»‘ng káº¿t báº¡n
   - Chat real-time (1-1 vÃ  nhÃ³m)
   - BÃ¬nh luáº­n vÃ  tÆ°Æ¡ng tÃ¡c

3. **á»¨ng dá»¥ng AI Ä‘á»ƒ cÃ¡ nhÃ¢n hÃ³a tráº£i nghiá»‡m**
   - Chatbot tÆ° váº¥n phim
   - Gá»£i Ã½ phim thÃ´ng minh
   - Content moderation tá»± Ä‘á»™ng

4. **Quáº£n lÃ½ ná»™i dung chuyÃªn nghiá»‡p**
   - Admin dashboard Ä‘áº§y Ä‘á»§
   - CRUD operations cho phim
   - Thá»‘ng kÃª vÃ  phÃ¢n tÃ­ch

#### Má»¥c tiÃªu há»c táº­p:
- Ãp dá»¥ng kiáº¿n thá»©c **CÃ´ng Nghá»‡ Pháº§n Má»m** vÃ o dá»± Ã¡n thá»±c táº¿
- Thá»±c hÃ nh quy trÃ¬nh phÃ¡t triá»ƒn Agile/Scrum
- LÃ m viá»‡c nhÃ³m vÃ  quáº£n lÃ½ source code vá»›i Git
- Triá»ƒn khai á»©ng dá»¥ng full-stack hoÃ n chá»‰nh

### 1.2.2. Pháº¡m vi dá»± Ã¡n

#### Trong pháº¡m vi (In Scope):
âœ… Há»‡ thá»‘ng xÃ¡c thá»±c vÃ  phÃ¢n quyá»n  
âœ… Quáº£n lÃ½ phim vÃ  táº­p phim  
âœ… Video streaming cÆ¡ báº£n  
âœ… TÃ­nh nÄƒng máº¡ng xÃ£ há»™i (chat, káº¿t báº¡n, bÃ¬nh luáº­n)  
âœ… AI chatbot vÃ  gá»£i Ã½  
âœ… Admin dashboard  
âœ… Responsive design  
âœ… Multi-language support (tiÃªu Ä‘á» phim)  

#### NgoÃ i pháº¡m vi (Out of Scope):
âŒ Payment gateway (sáº½ triá»ƒn khai sau)  
âŒ Mobile native apps (iOS/Android)  
âŒ Live streaming  
âŒ Content Delivery Network (CDN) integration  
âŒ Advanced analytics vÃ  machine learning models  

### 1.2.3. Giá»›i háº¡n vÃ  rÃ ng buá»™c

| RÃ ng buá»™c | MÃ´ táº£ |
|-----------|-------|
| **Thá»i gian** | 3-4 thÃ¡ng (cho giai Ä‘oáº¡n bÃ¡o cÃ¡o giá»¯a kÃ¬) |
| **NgÃ¢n sÃ¡ch** | Sá»­ dá»¥ng cÃ¡c cÃ´ng cá»¥ miá»…n phÃ­/mÃ£ nguá»“n má»Ÿ |
| **NhÃ¢n lá»±c** | NhÃ³m 3-4 sinh viÃªn |
| **CÃ´ng nghá»‡** | React (Frontend), Node.js (Backend), MySQL (Database) |
| **MÃ´i trÆ°á»ng** | Development trÃªn local, cÃ³ thá»ƒ deploy lÃªn cloud miá»…n phÃ­ |

---

## 1.3. PhÃ¢n tÃ­ch nghiá»‡p vá»¥

### 1.3.1. XÃ¡c Ä‘á»‹nh yÃªu cáº§u chá»©c nÄƒng

#### A. Module XÃ¡c thá»±c vÃ  NgÆ°á»i dÃ¹ng

| ID | YÃªu cáº§u | MÃ´ táº£ | Äá»™ Æ°u tiÃªn |
|----|---------|-------|------------|
| **FR-AUTH-01** | ÄÄƒng kÃ½ tÃ i khoáº£n | NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ Ä‘Äƒng kÃ½ báº±ng email/password | â­â­â­ Cao |
| **FR-AUTH-02** | ÄÄƒng nháº­p thÃ´ng thÆ°á»ng | ÄÄƒng nháº­p báº±ng email/password | â­â­â­ Cao |
| **FR-AUTH-03** | ÄÄƒng nháº­p xÃ£ há»™i | ÄÄƒng nháº­p qua Google, Facebook | â­â­ Trung bÃ¬nh |
| **FR-AUTH-04** | QuÃªn máº­t kháº©u | KhÃ´i phá»¥c máº­t kháº©u qua email | â­â­ Trung bÃ¬nh |
| **FR-AUTH-05** | PhÃ¢n quyá»n | PhÃ¢n quyá»n Admin, Editor, User | â­â­â­ Cao |
| **FR-USER-01** | Quáº£n lÃ½ há»“ sÆ¡ | Xem/sá»­a thÃ´ng tin cÃ¡ nhÃ¢n | â­â­â­ Cao |
| **FR-USER-02** | Upload avatar/cover | Táº£i lÃªn áº£nh Ä‘áº¡i diá»‡n vÃ  áº£nh bÃ¬a | â­â­ Trung bÃ¬nh |
| **FR-USER-03** | CÃ i Ä‘áº·t riÃªng tÆ° | Quáº£n lÃ½ quyá»n riÃªng tÆ° | â­â­ Trung bÃ¬nh |

#### B. Module Phim

| ID | YÃªu cáº§u | MÃ´ táº£ | Äá»™ Æ°u tiÃªn |
|----|---------|-------|------------|
| **FR-MOVIE-01** | Xem danh sÃ¡ch phim | Hiá»ƒn thá»‹ danh sÃ¡ch phim vá»›i phÃ¢n trang | â­â­â­ Cao |
| **FR-MOVIE-02** | TÃ¬m kiáº¿m phim | TÃ¬m kiáº¿m theo tÃªn, thá»ƒ loáº¡i, nÄƒm | â­â­â­ Cao |
| **FR-MOVIE-03** | Chi tiáº¿t phim | Xem thÃ´ng tin chi tiáº¿t phim | â­â­â­ Cao |
| **FR-MOVIE-04** | Xem phim | Streaming video vá»›i player Ä‘áº§y Ä‘á»§ | â­â­â­ Cao |
| **FR-MOVIE-05** | Phim bá»™ - episodes | Quáº£n lÃ½ vÃ  xem cÃ¡c táº­p phim | â­â­â­ Cao |
| **FR-MOVIE-06** | Phá»¥ Ä‘á» | Hiá»ƒn thá»‹ phá»¥ Ä‘á» Ä‘a ngÃ´n ngá»¯ | â­â­ Trung bÃ¬nh |
| **FR-MOVIE-07** | ThÃªm yÃªu thÃ­ch | LÆ°u phim vÃ o danh sÃ¡ch yÃªu thÃ­ch | â­â­ Trung bÃ¬nh |
| **FR-MOVIE-08** | Lá»‹ch sá»­ xem | Tá»± Ä‘á»™ng lÆ°u tiáº¿n trÃ¬nh xem | â­â­â­ Cao |
| **FR-MOVIE-09** | Resume watching | Tiáº¿p tá»¥c tá»« vá»‹ trÃ­ Ä‘Ã£ dá»«ng | â­â­â­ Cao |

#### C. Module Máº¡ng xÃ£ há»™i

| ID | YÃªu cáº§u | MÃ´ táº£ | Äá»™ Æ°u tiÃªn |
|----|---------|-------|------------|
| **FR-SOCIAL-01** | Káº¿t báº¡n | Gá»­i/nháº­n/cháº¥p nháº­n lá»i má»i káº¿t báº¡n | â­â­â­ Cao |
| **FR-SOCIAL-02** | BÃ¬nh luáº­n phim | Viáº¿t bÃ¬nh luáº­n trÃªn phim/táº­p phim | â­â­â­ Cao |
| **FR-SOCIAL-03** | Reply bÃ¬nh luáº­n | Tráº£ lá»i bÃ¬nh luáº­n (nested 3 levels) | â­â­ Trung bÃ¬nh |
| **FR-SOCIAL-04** | Like/Unlike | ThÃ­ch bÃ¬nh luáº­n | â­â­ Trung bÃ¬nh |
| **FR-SOCIAL-05** | ThÃ´ng bÃ¡o | Nháº­n thÃ´ng bÃ¡o real-time | â­â­â­ Cao |

#### D. Module AI

| ID | YÃªu cáº§u | MÃ´ táº£ | Äá»™ Æ°u tiÃªn |
|----|---------|-------|------------|
| **FR-AI-01** | Chatbot tÆ° váº¥n | Chat vá»›i AI Ä‘á»ƒ tÃ¬m phim | â­â­ Trung bÃ¬nh |
| **FR-AI-02** | Gá»£i Ã½ phim | AI Ä‘á» xuáº¥t phim dá»±a trÃªn sá»Ÿ thÃ­ch | â­â­ Trung bÃ¬nh |
| **FR-AI-03** | PhÃ¢n loáº¡i bÃ¬nh luáº­n | AI phÃ¡t hiá»‡n spam/toxic | â­ Tháº¥p |

#### E. Module Admin

| ID | YÃªu cáº§u | MÃ´ táº£ | Äá»™ Æ°u tiÃªn |
|----|---------|-------|------------|
| **FR-ADMIN-01** | CRUD phim | ThÃªm/sá»­a/xÃ³a phim | â­â­â­ Cao |
| **FR-ADMIN-02** | CRUD thá»ƒ loáº¡i | Quáº£n lÃ½ genres, categories | â­â­â­ Cao |
| **FR-ADMIN-03** | Quáº£n lÃ½ ngÆ°á»i dÃ¹ng | Xem danh sÃ¡ch, phÃ¢n quyá»n user | â­â­ Trung bÃ¬nh |
| **FR-ADMIN-04** | Dashboard thá»‘ng kÃª | Xem sá»‘ liá»‡u tá»•ng quan | â­â­ Trung bÃ¬nh |
| **FR-ADMIN-05** | Kiá»ƒm duyá»‡t bÃ¬nh luáº­n | áº¨n/xÃ³a bÃ¬nh luáº­n vi pháº¡m | â­â­ Trung bÃ¬nh |

### 1.3.2. XÃ¡c Ä‘á»‹nh yÃªu cáº§u phi chá»©c nÄƒng

| ID | YÃªu cáº§u | MÃ´ táº£ | TiÃªu chÃ­ Ä‘o lÆ°á»ng |
|----|---------|-------|-------------------|
| **NFR-PERF-01** | Hiá»‡u nÄƒng | Trang chá»§ load trong 2s | Response time < 2s |
| **NFR-PERF-02** | Video streaming | Buffer tá»‘i thiá»ƒu, smooth playback | < 5s initial load |
| **NFR-SCALE-01** | Kháº£ nÄƒng má»Ÿ rá»™ng | Há»— trá»£ 1000 concurrent users | Stress test |
| **NFR-SEC-01** | Báº£o máº­t | MÃ£ hÃ³a password, JWT tokens | Bcrypt + JWT |
| **NFR-SEC-02** | Rate limiting | Chá»‘ng brute-force attack | Max 5 login/15min |
| **NFR-USAB-01** | Dá»… sá»­ dá»¥ng | Giao diá»‡n trá»±c quan, responsive | User testing |
| **NFR-AVAIL-01** | Kháº£ dá»¥ng | Uptime 99% | Monitoring |
| **NFR-MAINT-01** | Báº£o trÃ¬ | Code cÃ³ cáº¥u trÃºc rÃµ rÃ ng | Code review |

### 1.3.3. PhÃ¢n tÃ­ch Ä‘á»‘i tÆ°á»£ng sá»­ dá»¥ng

#### A. User Persona 1: NgÆ°á»i xem phim thÆ°á»ng xuyÃªn

```
ğŸ“ ThÃ´ng tin:
â”œâ”€â”€ TÃªn: Nguyá»…n VÄƒn A
â”œâ”€â”€ Tuá»•i: 25
â”œâ”€â”€ Nghá» nghiá»‡p: NhÃ¢n viÃªn vÄƒn phÃ²ng
â”œâ”€â”€ CÃ´ng nghá»‡: Sá»­ dá»¥ng thÃ nh tháº¡o smartphone vÃ  laptop

ğŸ¯ Má»¥c tiÃªu:
â”œâ”€â”€ Xem phim Ä‘á»ƒ giáº£i trÃ­ sau giá» lÃ m viá»‡c
â”œâ”€â”€ TÃ¬m phim hay theo gá»£i Ã½
â””â”€â”€ Chia sáº» cáº£m nháº­n thÃ´ng qua bÃ¬nh luáº­n

ğŸ˜¤ Pain Points:
â”œâ”€â”€ KhÃ³ quyáº¿t Ä‘á»‹nh xem phim gÃ¬
â”œâ”€â”€ Xem dá»Ÿ pháº£i tÃ¬m láº¡i tá»« Ä‘áº§u
â””â”€â”€ KhÃ´ng cÃ³ khÃ´ng gian Ä‘á»ƒ tháº£o luáº­n vÃ  Ä‘Ã¡nh giÃ¡ phim

âœ… Sáº¡p Phim giáº£i quyáº¿t:
â”œâ”€â”€ AI chatbot tÆ° váº¥n phim
â”œâ”€â”€ LÆ°u lá»‹ch sá»­ xem, resume watching
â””â”€â”€ Há»‡ thá»‘ng bÃ¬nh luáº­n vÃ  Ä‘Ã¡nh giÃ¡ phim
```

#### B. User Persona 2: Admin quáº£n trá»‹

```
ğŸ“ ThÃ´ng tin:
â”œâ”€â”€ TÃªn: Tráº§n Thá»‹ B
â”œâ”€â”€ Tuá»•i: 30
â”œâ”€â”€ Nghá» nghiá»‡p: Content Manager
â”œâ”€â”€ CÃ´ng nghá»‡: Am hiá»ƒu vá» quáº£n lÃ½ ná»™i dung

ğŸ¯ Má»¥c tiÃªu:
â”œâ”€â”€ Cáº­p nháº­t phim má»›i nhanh chÃ³ng
â”œâ”€â”€ Quáº£n lÃ½ vÃ  kiá»ƒm duyá»‡t ná»™i dung
â””â”€â”€ Theo dÃµi thá»‘ng kÃª ngÆ°á»i dÃ¹ng

ğŸ˜¤ Pain Points:
â”œâ”€â”€ Upload phim tá»‘n thá»i gian
â”œâ”€â”€ KhÃ³ kiá»ƒm soÃ¡t bÃ¬nh luáº­n vi pháº¡m
â””â”€â”€ Thiáº¿u cÃ´ng cá»¥ phÃ¢n tÃ­ch

âœ… Sáº¡p Phim giáº£i quyáº¿t:
â”œâ”€â”€ Batch upload, auto-process video
â”œâ”€â”€ AI phÃ¢n loáº¡i bÃ¬nh luáº­n spam/toxic
â””â”€â”€ Dashboard vá»›i analytics chi tiáº¿t
```

---

## 1.4. Thiáº¿t káº¿ há»‡ thá»‘ng

### 1.4.1. Kiáº¿n trÃºc tá»•ng thá»ƒ

#### A. MÃ´ hÃ¬nh 3-tier Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   PRESENTATION TIER                          â”‚
â”‚                     (Frontend Layer)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         React 19 Application (Vite)                  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚ Components   â”‚  Pages       â”‚  Routing     â”‚    â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚   â”‚
â”‚  â”‚  â”‚ Redux Store  â”‚  React Query â”‚  Socket.IO   â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ HTTPS/WSS
                         â”‚ REST API / WebSocket
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    APPLICATION TIER                          â”‚
â”‚                    (Backend Layer)                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚       Node.js + Express.js Server                    â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚ Controllers  â”‚  Services    â”‚  Middleware   â”‚    â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚   â”‚
â”‚  â”‚  â”‚ Routes       â”‚  Socket.IO   â”‚  Auth (JWT)   â”‚    â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚   â”‚
â”‚  â”‚  â”‚ Validation   â”‚  File Upload â”‚  Rate Limit   â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                â”‚                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
â”‚  DATA TIER   â”‚  â”‚  CACHE   â”‚  â”‚  EXTERNAL    â”‚
â”‚              â”‚  â”‚  LAYER   â”‚  â”‚  SERVICES    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚          â”‚  â”‚              â”‚
â”‚ â”‚  MySQL   â”‚ â”‚  â”‚  Redis   â”‚  â”‚ Google AI    â”‚
â”‚ â”‚ Database â”‚ â”‚  â”‚          â”‚  â”‚ (Gemini)     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚          â”‚  â”‚              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚          â”‚  â”‚ Firebase     â”‚
â”‚ â”‚Sequelize â”‚ â”‚  â”‚          â”‚  â”‚ Auth         â”‚
â”‚ â”‚   ORM    â”‚ â”‚  â”‚          â”‚  â”‚              â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[HÃ¬nh 1.1: Kiáº¿n trÃºc tá»•ng thá»ƒ há»‡ thá»‘ng Sáº¡p Phim]
```

**ChÃº thÃ­ch:**
- **Presentation Tier**: Giao diá»‡n ngÆ°á»i dÃ¹ng, xá»­ lÃ½ tÆ°Æ¡ng tÃ¡c
- **Application Tier**: Logic nghiá»‡p vá»¥, xá»­ lÃ½ request/response
- **Data Tier**: LÆ°u trá»¯ dá»¯ liá»‡u persistent
- **Cache Layer**: TÄƒng tá»‘c Ä‘á»™ truy váº¥n
- **External Services**: Dá»‹ch vá»¥ bÃªn thá»© ba (AI, Auth)

#### B. Kiáº¿n trÃºc MVC (Model-View-Controller)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    VIEW                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  React Components                      â”‚     â”‚
â”‚  â”‚  - JSX Templates                       â”‚     â”‚
â”‚  â”‚  - SCSS Styling                        â”‚     â”‚
â”‚  â”‚  - Event Handlers                      â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ User Actions
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               CONTROLLER                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  API Controllers (Backend)              â”‚     â”‚
â”‚  â”‚  - auth.controller.js                   â”‚     â”‚
â”‚  â”‚  - movie.controller.js                  â”‚     â”‚
â”‚  â”‚  - friend.controller.js                 â”‚     â”‚
â”‚  â”‚  - comment.controller.js                â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â”‚ Business Logic
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  MODEL                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  Sequelize Models (Backend)             â”‚     â”‚
â”‚  â”‚  - User.js                              â”‚     â”‚
â”‚  â”‚  - Movie.js                             â”‚     â”‚
â”‚  â”‚  - Comment.js                           â”‚     â”‚
â”‚  â”‚  - Friendship.js                        â”‚     â”‚
â”‚  â”‚                                         â”‚     â”‚
â”‚  â”‚  Redux Store (Frontend)                 â”‚     â”‚
â”‚  â”‚  - authSlice.js                         â”‚     â”‚
â”‚  â”‚  - friendSlice.js                       â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[HÃ¬nh 1.2: MÃ´ hÃ¬nh MVC trong Sáº¡p Phim]
```

### 1.4.2. Biá»ƒu Ä‘á»“ Use Case

#### A. Use Case Diagram - Tá»•ng quan

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Sáº¡p Phim System      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Guest     â”‚              â”‚              â”‚    User     â”‚
â”‚  (Visitor)  â”‚              â”‚              â”‚ (Logged in) â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜              â”‚              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚                     â”‚                     â”‚
       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚  â”‚                  â”‚                     â”‚
       â–¼  â–¼                  â–¼                     â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Xem    â”‚          â”‚ TÃ¬m    â”‚           â”‚ ÄÄƒng   â”‚
    â”‚ phim   â”‚          â”‚ kiáº¿m   â”‚           â”‚ nháº­p   â”‚
    â”‚        â”‚          â”‚ phim   â”‚           â”‚        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                     â”‚                     â”‚
       â”‚                     â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                     â”‚          â”‚                     â”‚
       â”‚                     â”‚          â–¼                     â–¼
       â”‚                     â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                     â”‚     â”‚Quáº£n lÃ½ â”‚           â”‚ Xem    â”‚
       â”‚                     â”‚     â”‚ há»“ sÆ¡  â”‚           â”‚lá»‹ch sá»­ â”‚
       â”‚                     â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                     â”‚          â”‚                     â”‚
       â”‚                     â”‚          â–¼                     â”‚
       â”‚                     â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
       â”‚                     â””â”€â”€â”€â”€â–ºâ”‚ Chat   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                           â”‚ báº¡n bÃ¨ â”‚
       â”‚                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                â”‚
       â”‚                                â–¼
       â”‚                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                           â”‚ BÃ¬nh   â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ luáº­n   â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â”‚
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚                   â”‚
                              â–¼                   â–¼
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚ Like   â”‚          â”‚ Reply  â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Admin    â”‚              â”‚              â”‚      AI     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜              â”‚              â”‚   System    â”‚
       â”‚                     â”‚              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚                     â”‚                     â”‚
       â–¼                     â–¼                     â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ CRUD   â”‚            â”‚ Thá»‘ng  â”‚           â”‚ Gá»£i Ã½  â”‚
  â”‚ phim   â”‚            â”‚  kÃª    â”‚           â”‚ phim   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                     â”‚                     â”‚
       â–¼                     â”‚                     â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚Kiá»ƒm    â”‚                â”‚               â”‚Chatbot â”‚
  â”‚duyá»‡t BLâ”‚                â”‚               â”‚        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚ Quáº£n lÃ½â”‚
                       â”‚  user  â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[HÃ¬nh 1.3: Use Case Diagram tá»•ng quan]
```

**ChÃº thÃ­ch:**
- **Guest**: NgÆ°á»i dÃ¹ng chÆ°a Ä‘Äƒng nháº­p (cÃ³ thá»ƒ xem phim, tÃ¬m kiáº¿m)
- **User**: NgÆ°á»i dÃ¹ng Ä‘Ã£ Ä‘Äƒng nháº­p (Ä‘áº§y Ä‘á»§ tÃ­nh nÄƒng xÃ£ há»™i)
- **Admin**: Quáº£n trá»‹ viÃªn (quáº£n lÃ½ ná»™i dung vÃ  ngÆ°á»i dÃ¹ng)
- **AI System**: Há»‡ thá»‘ng AI há»— trá»£ (actor phá»¥)

#### B. Use Case chi tiáº¿t - Module XÃ¡c thá»±c

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Authentication Use Cases                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

           User                                 System
            â”‚                                      â”‚
            â”‚â”€â”€â”€â”€â”€â”€â”€ ÄÄƒng kÃ½ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
            â”‚  (email, password, username)         â”‚
            â”‚                                      â”‚
            â”‚<â”€â”€â”€â”€â”€â”€  Verify email â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
            â”‚                                      â”‚
            â”‚â”€â”€â”€â”€â”€â”€â”€ XÃ¡c nháº­n email â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
            â”‚                                      â”‚
            â”‚<â”€â”€â”€â”€â”€â”€  Success message â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
            â”‚                                      â”‚
            â”‚â”€â”€â”€â”€â”€â”€â”€ ÄÄƒng nháº­p â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
            â”‚  (email, password)                   â”‚
            â”‚                                      â”‚
            â”‚<â”€â”€â”€â”€â”€â”€  Access Token + Refresh â”€â”€â”€â”€â”€â”€â”‚
            â”‚         Token (JWT)                  â”‚
            â”‚                                      â”‚
            â”‚â”€â”€â”€â”€â”€â”€â”€ ÄÄƒng nháº­p Social â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
            â”‚  (Google/Facebook)                   â”‚
            â”‚                                      â”‚
            â”‚<â”€â”€â”€â”€â”€â”€  Redirect to Provider â”€â”€â”€â”€â”€â”€â”€â”€â”‚
            â”‚                                      â”‚
            â”‚â”€â”€â”€â”€â”€â”€â”€ Authorization Code â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
            â”‚                                      â”‚
            â”‚<â”€â”€â”€â”€â”€â”€  Tokens â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚

[HÃ¬nh 1.4: Sequence Diagram - Authentication]
```

**Use Case: UC-01 - ÄÄƒng nháº­p há»‡ thá»‘ng**

| Thuá»™c tÃ­nh | MÃ´ táº£ |
|------------|-------|
| **Use Case ID** | UC-01 |
| **TÃªn** | ÄÄƒng nháº­p há»‡ thá»‘ng |
| **Actor** | User (Guest) |
| **Äiá»u kiá»‡n tiÃªn quyáº¿t** | NgÆ°á»i dÃ¹ng Ä‘Ã£ cÃ³ tÃ i khoáº£n |
| **Äiá»u kiá»‡n sau** | NgÆ°á»i dÃ¹ng Ä‘Æ°á»£c xÃ¡c thá»±c vÃ  nháº­n token |
| **Luá»“ng chÃ­nh** | 1. User truy cáº­p trang Ä‘Äƒng nháº­p<br>2. Nháº­p email vÃ  password<br>3. Há»‡ thá»‘ng xÃ¡c thá»±c thÃ´ng tin<br>4. Há»‡ thá»‘ng táº¡o JWT access token (15 phÃºt) vÃ  refresh token (7 ngÃ y)<br>5. LÆ°u refresh token vÃ o database vÃ  cookie<br>6. Chuyá»ƒn hÆ°á»›ng Ä‘áº¿n trang chá»§ |
| **Luá»“ng thay tháº¿** | **3a. Sai thÃ´ng tin Ä‘Äƒng nháº­p**<br>- Hiá»ƒn thá»‹ lá»—i "Email hoáº·c máº­t kháº©u khÃ´ng Ä‘Ãºng"<br>- TÄƒng counter login failed<br>- Náº¿u > 5 láº§n: khÃ³a tÃ i khoáº£n 15 phÃºt (rate limiting)<br><br>**2a. ÄÄƒng nháº­p báº±ng Google**<br>- Redirect Ä‘áº¿n Google OAuth<br>- Nháº­n ID token tá»« Google<br>- XÃ¡c thá»±c vá»›i Firebase<br>- Táº¡o/cáº­p nháº­t user trong database<br>- Tráº£ vá» JWT tokens |
| **Ngoáº¡i lá»‡** | - Lá»—i káº¿t ná»‘i database<br>- Lá»—i Firebase authentication<br>- Rate limit exceeded |

#### C. Use Case chi tiáº¿t - Module Phim

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Movie Watching Use Cases                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    User                     System                   Database
     â”‚                          â”‚                         â”‚
     â”‚â”€â”€â”€ TÃ¬m kiáº¿m phim â”€â”€â”€â”€â”€â”€â”€>â”‚                         â”‚
     â”‚    "Avengers"            â”‚                         â”‚
     â”‚                          â”‚â”€â”€â”€ Query â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                          â”‚    (title, genre)       â”‚
     â”‚                          â”‚<â”€â”€ Results â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚<â”€â”€ Danh sÃ¡ch phim â”€â”€â”€â”€â”€â”€â”€â”‚                         â”‚
     â”‚                          â”‚                         â”‚
     â”‚â”€â”€â”€ Chá»n phim â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                         â”‚
     â”‚    (slug: avengers)      â”‚                         â”‚
     â”‚                          â”‚â”€â”€â”€ Get movie detail â”€â”€â”€>â”‚
     â”‚                          â”‚<â”€â”€ Movie + Episodes â”€â”€â”€â”€â”‚
     â”‚<â”€â”€ Chi tiáº¿t phim â”€â”€â”€â”€â”€â”€â”€â”€â”‚                         â”‚
     â”‚    (poster, description, â”‚                         â”‚
     â”‚     episodes list)       â”‚                         â”‚
     â”‚                          â”‚                         â”‚
     â”‚â”€â”€â”€ Chá»n táº­p phim â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                         â”‚
     â”‚    (episode 1)           â”‚                         â”‚
     â”‚                          â”‚â”€â”€â”€ Get video URL â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                          â”‚<â”€â”€ Video data â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚<â”€â”€ Video player â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                         â”‚
     â”‚    (HLS stream)          â”‚                         â”‚
     â”‚                          â”‚                         â”‚
     â”‚â”€â”€â”€ Pause video â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                         â”‚
     â”‚    (currentTime: 125s)   â”‚â”€â”€â”€ Save progress â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                          â”‚    (userId, movieId,    â”‚
     â”‚                          â”‚     episodeId, 125s)    â”‚
     â”‚<â”€â”€ Saved â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚<â”€â”€ Success â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚

[HÃ¬nh 1.5: Sequence Diagram - Movie Watching]
```

**Use Case: UC-05 - Xem phim**

| Thuá»™c tÃ­nh | MÃ´ táº£ |
|------------|-------|
| **Use Case ID** | UC-05 |
| **TÃªn** | Xem phim |
| **Actor** | User (Guest/Logged in) |
| **Äiá»u kiá»‡n tiÃªn quyáº¿t** | Phim tá»“n táº¡i trong há»‡ thá»‘ng |
| **Äiá»u kiá»‡n sau** | Video Ä‘Æ°á»£c stream, tiáº¿n trÃ¬nh Ä‘Æ°á»£c lÆ°u (náº¿u logged in) |
| **Luá»“ng chÃ­nh** | 1. User chá»n phim tá»« danh sÃ¡ch hoáº·c search<br>2. Há»‡ thá»‘ng hiá»ƒn thá»‹ chi tiáº¿t phim (poster, description, episodes)<br>3. User click "Xem phim" hoáº·c chá»n táº­p cá»¥ thá»ƒ<br>4. Há»‡ thá»‘ng load video player<br>5. Video Ä‘Æ°á»£c stream tá»« server<br>6. User xem phim vá»›i controls (play, pause, seek, volume)<br>7. Há»‡ thá»‘ng tá»± Ä‘á»™ng lÆ°u progress má»—i 10 giÃ¢y (náº¿u logged in)<br>8. Khi káº¿t thÃºc táº­p: gá»£i Ã½ táº­p tiáº¿p theo (náº¿u series) |
| **Luá»“ng thay tháº¿** | **3a. Phim bá»™ - chá»n táº­p**<br>- Hiá»ƒn thá»‹ danh sÃ¡ch episodes<br>- User chá»n táº­p cá»¥ thá»ƒ<br>- Load video táº­p Ä‘Ã³<br><br>**7a. Resume watching**<br>- Náº¿u Ä‘Ã£ xem dá»Ÿ: há»i "Tiáº¿p tá»¥c tá»« X phÃºt Y giÃ¢y?"<br>- User chá»n Yes: seek Ä‘áº¿n vá»‹ trÃ­ Ä‘Ã³<br>- User chá»n No: play tá»« Ä‘áº§u<br><br>**8a. Auto-play táº­p tiáº¿p**<br>- Countdown 10s<br>- Tá»± Ä‘á»™ng chuyá»ƒn sang táº­p tiáº¿p theo<br>- User cÃ³ thá»ƒ cancel |
| **Ngoáº¡i lá»‡** | - Video file khÃ´ng tá»“n táº¡i<br>- Lá»—i streaming (network issue)<br>- TrÃ¬nh duyá»‡t khÃ´ng há»— trá»£ video codec |

#### D. Use Case chi tiáº¿t - Module Máº¡ng xÃ£ há»™i

**Use Case: UC-08 - Chat vá»›i báº¡n bÃ¨ (Real-time)**

| Thuá»™c tÃ­nh | MÃ´ táº£ |
|------------|-------|
| **Use Case ID** | UC-08 |
| **TÃªn** | Chat vá»›i báº¡n bÃ¨ |
| **Actor** | User (Logged in) |
| **Äiá»u kiá»‡n tiÃªn quyáº¿t** | - NgÆ°á»i dÃ¹ng Ä‘Ã£ Ä‘Äƒng nháº­p<br>- CÃ³ báº¡n bÃ¨ trong há»‡ thá»‘ng<br>- Socket.IO connection established |
| **Äiá»u kiá»‡n sau** | Tin nháº¯n Ä‘Æ°á»£c gá»­i real-time, lÆ°u vÃ o database |
| **Luá»“ng chÃ­nh** | 1. User click vÃ o báº¡n bÃ¨ trong danh sÃ¡ch<br>2. Há»‡ thá»‘ng tÃ¬m/táº¡o conversation giá»¯a 2 ngÆ°á»i<br>3. Load lá»‹ch sá»­ tin nháº¯n (paginated)<br>4. User gÃµ tin nháº¯n<br>5. Hiá»ƒn thá»‹ "typing..." indicator cho bÃªn kia (via Socket)<br>6. User gá»­i tin nháº¯n<br>7. Socket emit event "send-message"<br>8. Server nháº­n, lÆ°u vÃ o DB, emit "new-message" Ä‘áº¿n receiver<br>9. Receiver nháº­n tin nháº¯n real-time<br>10. Tin nháº¯n hiá»ƒn thá»‹ á»Ÿ cáº£ 2 bÃªn |
| **Luá»“ng thay tháº¿** | **2a. Táº¡o nhÃ³m chat**<br>- User chá»n "Create group"<br>- Chá»n nhiá»u báº¡n bÃ¨<br>- Äáº·t tÃªn nhÃ³m<br>- Há»‡ thá»‘ng táº¡o group conversation<br><br>**9a. Receiver offline**<br>- Tin nháº¯n váº«n Ä‘Æ°á»£c lÆ°u<br>- Khi receiver online láº¡i: nháº­n notification<br>- Khi má»Ÿ app: sync messages<br><br>**10a. Gá»­i áº£nh/file**<br>- User chá»n file<br>- Upload lÃªn server<br>- Server tráº£ vá» URL<br>- Gá»­i message vá»›i type: "image"/"file" |
| **Ngoáº¡i lá»‡** | - Socket connection lost: retry 5 láº§n<br>- File quÃ¡ lá»›n: reject vá»›i message<br>- User bá»‹ block: khÃ´ng gá»­i Ä‘Æ°á»£c tin nháº¯n |

### 1.4.3. Biá»ƒu Ä‘á»“ Activity

#### A. Activity Diagram - ÄÄƒng kÃ½ tÃ i khoáº£n

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    Start    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚ Nháº­p thÃ´ng tin:  â”‚
                 â”‚ - Email          â”‚
                 â”‚ - Username       â”‚
                 â”‚ - Password       â”‚
                 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ Validate input:    â”‚
                â”‚ - Email format?    â”‚
                â”‚ - Password >= 8?   â”‚
                â”‚ - Username unique? â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                  â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
                  â”‚  Valid?   â”‚
                  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                        â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ No                    â”‚ Yes
            â–¼                       â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Show errors: â”‚      â”‚ Hash password   â”‚
    â”‚ - Email Ä‘Ã£   â”‚      â”‚ (Bcrypt 10x)    â”‚
    â”‚   tá»“n táº¡i    â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚ - Password   â”‚               â”‚
    â”‚   yáº¿u, etc   â”‚               â–¼
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚              â”‚ Save to DB:     â”‚
           â”‚              â”‚ - users table   â”‚
           â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                       â”‚
           â”‚                       â–¼
           â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚              â”‚ Send verify     â”‚
           â”‚              â”‚ email (optional)â”‚
           â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                       â”‚
           â”‚                       â–¼
           â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚              â”‚ Create JWT      â”‚
           â”‚              â”‚ tokens          â”‚
           â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                       â”‚
           â”‚                       â–¼
           â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚              â”‚ Return tokens + â”‚
           â”‚              â”‚ user data       â”‚
           â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                       â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                   â”‚
                                   â–¼
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚   End    â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[HÃ¬nh 1.6: Activity Diagram - ÄÄƒng kÃ½ tÃ i khoáº£n]
```

**ChÃº thÃ­ch:**
- **Diamond (â—‡)**: Decision point (Yes/No)
- **Rectangle**: Process/Action
- **Arrow**: Flow direction

#### B. Activity Diagram - Xem phim vá»›i Resume

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    Start    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚ User chá»n phim   â”‚
                 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ Load movie detail  â”‚
                â”‚ from database      â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ Check user login?  â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ Yes               â”‚ No
              â–¼                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Query watch      â”‚   â”‚ Play from    â”‚
    â”‚ history cá»§a user â”‚   â”‚ beginning    â”‚
    â”‚ cho phim nÃ y     â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
             â”‚                    â”‚
             â–¼                    â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
    â”‚ CÃ³ lá»‹ch sá»­ xem?  â”‚          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
             â”‚                    â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
    â”‚ Yes             â”‚ No        â”‚
    â–¼                 â–¼           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ Show     â”‚   â”‚ Play from    â”‚  â”‚
â”‚ resume   â”‚   â”‚ beginning    â”‚  â”‚
â”‚ dialog:  â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ "Tiáº¿p tá»¥câ”‚          â”‚           â”‚
â”‚ tá»« 5:30?"â”‚          â”‚           â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜          â”‚           â”‚
     â”‚                â”‚           â”‚
     â–¼                â”‚           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚           â”‚
â”‚ User chá»nâ”‚          â”‚           â”‚
â”‚ Yes/No?  â”‚          â”‚           â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜          â”‚           â”‚
     â”‚                â”‚           â”‚
â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”           â”‚           â”‚
â”‚Yes â”‚ No â”‚           â”‚           â”‚
â–¼    â”‚    â–¼           â”‚           â”‚
Seek to   Play from   â”‚           â”‚
saved     start       â”‚           â”‚
time      â”‚           â”‚           â”‚
â”‚         â”‚           â”‚           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Play video           â”‚
â”‚ - Load HLS stream    â”‚
â”‚ - Initialize player  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User watching video  â”‚
â”‚ (play/pause/seek)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ Every 10s
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Auto-save progress:  â”‚
â”‚ - movieId            â”‚
â”‚ - episodeId          â”‚
â”‚ - currentTime        â”‚
â”‚ - duration           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Video ends?          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
     â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
     â”‚ Yes       â”‚ No
     â–¼           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ Series?  â”‚     â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â”‚
     â”‚           â”‚
â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”       â”‚
â”‚Yesâ”‚ No â”‚       â”‚
â–¼   â”‚    â–¼       â”‚
Showâ”‚  End       â”‚
nextâ”‚            â”‚
ep  â”‚            â”‚
    â”‚            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   End   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[HÃ¬nh 1.7: Activity Diagram - Xem phim vá»›i Resume watching]
```

### 1.4.4. Biá»ƒu Ä‘á»“ Sequence

#### A. Sequence Diagram - Real-time Chat

```
User A          Frontend A      Socket.IO       Backend         Database        Socket.IO      Frontend B      User B
  â”‚                â”‚                â”‚               â”‚                â”‚               â”‚               â”‚           â”‚
  â”‚â”€Type messageâ”€â”€>â”‚                â”‚               â”‚                â”‚               â”‚               â”‚           â”‚
  â”‚ "Hello!"       â”‚                â”‚               â”‚                â”‚               â”‚               â”‚           â”‚
  â”‚                â”‚                â”‚               â”‚                â”‚               â”‚               â”‚           â”‚
  â”‚                â”‚â”€emitâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚               â”‚                â”‚               â”‚               â”‚           â”‚
  â”‚                â”‚ 'typing'        â”‚â”€â”€broadcastâ”€â”€â”€>â”‚                â”‚               â”‚               â”‚           â”‚
  â”‚                â”‚ {userId,        â”‚  to room:     â”‚                â”‚               â”‚               â”‚           â”‚
  â”‚                â”‚  convId}        â”‚  user_B       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚               â”‚           â”‚
  â”‚                â”‚                 â”‚               â”‚                â”‚               â”‚â”€â”€on('typing')â”€>â”‚           â”‚
  â”‚                â”‚                 â”‚               â”‚                â”‚               â”‚               â”‚â”€Showâ”€â”€â”€â”€â”€>â”‚
  â”‚                â”‚                 â”‚               â”‚                â”‚               â”‚               â”‚ typing    â”‚
  â”‚                â”‚                 â”‚               â”‚                â”‚               â”‚               â”‚ indicator â”‚
  â”‚                â”‚                 â”‚               â”‚                â”‚               â”‚               â”‚           â”‚
  â”‚â”€Click sendâ”€â”€â”€â”€>â”‚                 â”‚               â”‚                â”‚               â”‚               â”‚           â”‚
  â”‚                â”‚                 â”‚               â”‚                â”‚               â”‚               â”‚           â”‚
  â”‚                â”‚â”€emitâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚               â”‚                â”‚               â”‚               â”‚           â”‚
  â”‚                â”‚ 'send-message'  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                â”‚               â”‚               â”‚           â”‚
  â”‚                â”‚ {convId,        â”‚               â”‚â”€Validateâ”€â”€â”€â”€â”€â”€>â”‚               â”‚               â”‚           â”‚
  â”‚                â”‚  content,       â”‚               â”‚                â”‚               â”‚               â”‚           â”‚
  â”‚                â”‚  senderId}      â”‚               â”‚                â”‚               â”‚               â”‚           â”‚
  â”‚                â”‚                 â”‚               â”‚â”€Save messageâ”€â”€â”€>â”‚               â”‚               â”‚           â”‚
  â”‚                â”‚                 â”‚               â”‚  INSERT INTO   â”‚               â”‚               â”‚           â”‚
  â”‚                â”‚                 â”‚               â”‚  messages      â”‚               â”‚               â”‚           â”‚
  â”‚                â”‚                 â”‚               â”‚<â”€â”€messageIdâ”€â”€â”€â”€â”‚               â”‚               â”‚           â”‚
  â”‚                â”‚                 â”‚               â”‚    + timestamp â”‚               â”‚               â”‚           â”‚
  â”‚                â”‚                 â”‚               â”‚                â”‚               â”‚               â”‚           â”‚
  â”‚                â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚<â”€â”€emitâ”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚               â”‚               â”‚           â”‚
  â”‚                â”‚  'message-sent' â”‚  (to sender)  â”‚                â”‚               â”‚               â”‚           â”‚
  â”‚                â”‚  {messageData}  â”‚               â”‚                â”‚               â”‚               â”‚           â”‚
  â”‚<â”€Show messageâ”€â”€â”‚                 â”‚               â”‚                â”‚               â”‚               â”‚           â”‚
  â”‚  (optimistic)  â”‚                 â”‚               â”‚                â”‚               â”‚               â”‚           â”‚
  â”‚                â”‚                 â”‚               â”‚                â”‚               â”‚               â”‚           â”‚
  â”‚                â”‚                 â”‚               â”‚â”€â”€emit to Bâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚               â”‚           â”‚
  â”‚                â”‚                 â”‚               â”‚  'new-message' â”‚               â”‚â”€â”€on('newâ”€â”€â”€>â”‚           â”‚
  â”‚                â”‚                 â”‚               â”‚  {messageData, â”‚               â”‚  message')   â”‚           â”‚
  â”‚                â”‚                 â”‚               â”‚   sender info} â”‚               â”‚              â”‚           â”‚
  â”‚                â”‚                 â”‚               â”‚                â”‚               â”‚              â”‚â”€Show newâ”€â”€>â”‚
  â”‚                â”‚                 â”‚               â”‚                â”‚               â”‚              â”‚  message  â”‚
  â”‚                â”‚                 â”‚               â”‚                â”‚               â”‚              â”‚  + notif  â”‚
  â”‚                â”‚                 â”‚               â”‚                â”‚               â”‚              â”‚           â”‚
  â”‚                â”‚                 â”‚               â”‚â”€Update lastâ”€â”€â”€â”€>â”‚               â”‚              â”‚           â”‚
  â”‚                â”‚                 â”‚               â”‚  message in    â”‚               â”‚              â”‚           â”‚
  â”‚                â”‚                 â”‚               â”‚  conversation  â”‚               â”‚              â”‚           â”‚
  â”‚                â”‚                 â”‚               â”‚  table         â”‚               â”‚              â”‚           â”‚

[HÃ¬nh 1.8: Sequence Diagram - Real-time Chat]
```

**ChÃº thÃ­ch:**
- **emit**: Client gá»­i event lÃªn server qua Socket.IO
- **broadcast**: Server gá»­i event Ä‘áº¿n cÃ¡c clients khÃ¡c
- **to room**: Gá»­i Ä‘áº¿n room cá»¥ thá»ƒ (user_${userId})
- **Optimistic update**: Hiá»ƒn thá»‹ tin nháº¯n ngay trÃªn UI trÆ°á»›c khi server confirm

#### B. Sequence Diagram - AI Movie Recommendation

```
User            Frontend        Backend API      AI Service       Database        TMDB API
 â”‚                 â”‚                â”‚                 â”‚               â”‚                â”‚
 â”‚â”€Click "AI Gá»£i Ã½">â”‚                â”‚                 â”‚               â”‚                â”‚
 â”‚                 â”‚                â”‚                 â”‚               â”‚                â”‚
 â”‚                 â”‚â”€POST /ai/â”€â”€â”€â”€â”€â”€â”€>â”‚                 â”‚               â”‚                â”‚
 â”‚                 â”‚  recommend      â”‚â”€Get userâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                â”‚
 â”‚                 â”‚  {userId}       â”‚  data:          â”‚               â”‚                â”‚
 â”‚                 â”‚                 â”‚  - favorites    â”‚               â”‚                â”‚
 â”‚                 â”‚                 â”‚  - watch hist   â”‚               â”‚                â”‚
 â”‚                 â”‚                 â”‚<â”€â”€â”€â”€userDataâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚
 â”‚                 â”‚                 â”‚                 â”‚               â”‚                â”‚
 â”‚                 â”‚                 â”‚â”€Build contextâ”€â”€â”€>â”‚               â”‚                â”‚
 â”‚                 â”‚                 â”‚  {user prefs,   â”‚               â”‚                â”‚
 â”‚                 â”‚                 â”‚   recent movies,â”‚               â”‚                â”‚
 â”‚                 â”‚                 â”‚   liked genres} â”‚               â”‚                â”‚
 â”‚                 â”‚                 â”‚                 â”‚               â”‚                â”‚
 â”‚                 â”‚                 â”‚                 â”‚â”€Call Gemini   â”‚                â”‚
 â”‚                 â”‚                 â”‚                 â”‚  AI API       â”‚                â”‚
 â”‚                 â”‚                 â”‚                 â”‚  "Recommend   â”‚                â”‚
 â”‚                 â”‚                 â”‚                 â”‚   movies for  â”‚                â”‚
 â”‚                 â”‚                 â”‚                 â”‚   user who    â”‚                â”‚
 â”‚                 â”‚                 â”‚                 â”‚   likes..."   â”‚                â”‚
 â”‚                 â”‚                 â”‚                 â”‚               â”‚                â”‚
 â”‚                 â”‚                 â”‚                 â”‚<â”€â”€AI responseâ”€â”‚                â”‚
 â”‚                 â”‚                 â”‚<â”€â”€â”€â”€movie titlesâ”‚  [Movie1,    â”‚                â”‚
 â”‚                 â”‚                 â”‚     + reasonsâ”€â”€â”€â”‚   Movie2,... ]â”‚               â”‚
 â”‚                 â”‚                 â”‚                 â”‚               â”‚                â”‚
 â”‚                 â”‚                 â”‚â”€Query moviesâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                â”‚
 â”‚                 â”‚                 â”‚  by titles      â”‚               â”‚                â”‚
 â”‚                 â”‚                 â”‚<â”€â”€â”€â”€movie dataâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚
 â”‚                 â”‚                 â”‚                 â”‚               â”‚                â”‚
 â”‚                 â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€For each movieâ”‚
 â”‚                 â”‚                 â”‚â”€Enrich dataâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
 â”‚                 â”‚                 â”‚  (poster, ratingâ”‚               â”‚  GET /movie/   â”‚
 â”‚                 â”‚                 â”‚   from TMDB)    â”‚               â”‚  {tmdb_id}     â”‚
 â”‚                 â”‚                 â”‚<â”€â”€â”€â”€TMDB dataâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
 â”‚                 â”‚                 â”‚                 â”‚               â”‚                â”‚
 â”‚                 â”‚<â”€â”€â”€â”€Responseâ”€â”€â”€â”€â”‚                 â”‚               â”‚                â”‚
 â”‚                 â”‚  {recommendationsâ”‚                â”‚               â”‚                â”‚
 â”‚                 â”‚   [...movies],  â”‚                 â”‚               â”‚                â”‚
 â”‚                 â”‚   aiExplanation}â”‚                 â”‚               â”‚                â”‚
 â”‚<â”€Display resultsâ”‚                 â”‚                 â”‚               â”‚                â”‚
 â”‚  with reasons   â”‚                 â”‚                 â”‚               â”‚                â”‚
 â”‚  "Dá»±a trÃªn báº¡n  â”‚                 â”‚                 â”‚               â”‚                â”‚
 â”‚   thÃ­ch Marvel.."â”‚                â”‚                 â”‚               â”‚                â”‚

[HÃ¬nh 1.9: Sequence Diagram - AI Movie Recommendation]
```

### 1.4.5. Thiáº¿t káº¿ cÆ¡ sá»Ÿ dá»¯ liá»‡u

#### A. Entity Relationship Diagram (ERD)


```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DATABASE SCHEMA - ERD                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      User       â”‚           â”‚      Role       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK id           â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ PK id           â”‚
â”‚    uuid (UQ)    â”‚  n:n      â”‚    name (UQ)    â”‚
â”‚    username (UQ)â”‚           â”‚    description  â”‚
â”‚    email (UQ)   â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚    password     â”‚                    â–²
â”‚    avatarUrl    â”‚                    â”‚
â”‚    coverUrl     â”‚                    â”‚ user_roles
â”‚    bio          â”‚                    â”‚ (junction)
â”‚    birthDate    â”‚                    â”‚
â”‚    gender       â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    socialLinks  â”‚           â”‚   user_roles    â”‚
â”‚    isActive     â”‚           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    createdAt    â”‚           â”‚ PK id           â”‚
â”‚    updatedAt    â”‚           â”‚ FK userId       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚ FK roleId       â”‚
         â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 1:n
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RefreshToken     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK id            â”‚
â”‚ FK userId        â”‚
â”‚    token (UQ)    â”‚
â”‚    expiresAt     â”‚
â”‚    createdAt     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Friendship    â”‚          â”‚  LoginHistory   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK id           â”‚          â”‚ PK id           â”‚
â”‚ FK senderId â”€â”€â”€â”€â”¼â”€â”€â”€â”      â”‚ FK userId â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”
â”‚ FK receiverId â”€â”€â”¼â”€â”€â”€â”¤      â”‚    ipAddress    â”‚   â”‚
â”‚    status       â”‚   â”‚      â”‚    userAgent    â”‚   â”‚
â”‚    createdAt    â”‚   â”‚      â”‚    loginAt      â”‚   â”‚
â”‚    updatedAt    â”‚   â””â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
         â–²                                          â”‚
         â”‚                                          â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                Both reference User table


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     n:n    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Genre      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚      Movie      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  movie_     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK id           â”‚  genres     â”‚ PK id           â”‚
â”‚    title (UQ)   â”‚  (junction) â”‚    slug (UQ)    â”‚
â”‚    description  â”‚             â”‚    titles (JSON)â”‚
â”‚    createdAt    â”‚             â”‚    description  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚    posterUrl    â”‚
                                â”‚    backdropUrl  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚    trailerUrl   â”‚
â”‚    Country      â”‚             â”‚    year         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚    duration     â”‚
â”‚ PK id           â”‚             â”‚    type         â”‚
â”‚    title (UQ)   â”‚             â”‚    rating       â”‚
â”‚    code (UQ)    â”‚â—„â”€â”€â”€â”€â”€1:nâ”€â”€â”€â”¤ FK countryId    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚ FK categoryId   â”‚
                                â”‚ FK seriesId     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚    views        â”‚
â”‚    Category     â”‚             â”‚    status       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚    createdAt    â”‚
â”‚ PK id           â”‚             â”‚    updatedAt    â”‚
â”‚    title (UQ)   â”‚â—„â”€â”€â”€â”€â”€1:nâ”€â”€â”€â”¤                 â”‚
â”‚    slug         â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚    description  â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚ 1:n
                                         â”‚
                                         â–¼
                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                â”‚    Episode      â”‚
                                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                â”‚ PK id           â”‚
                                â”‚ FK movieId      â”‚
                                â”‚    episodeNumberâ”‚
                                â”‚    title        â”‚
                                â”‚    videoUrl     â”‚
                                â”‚    subtitles(JS)â”‚
                                â”‚    duration     â”‚
                                â”‚    views        â”‚
                                â”‚    createdAt    â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚     Series      â”‚                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                     â”‚
â”‚ PK id           â”‚â”€â”€â”€â”€â”€1:nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
â”‚    title (UQ)   â”‚                     â”‚
â”‚    description  â”‚                     â”‚
â”‚    createdAt    â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
                                        â”‚
                                        â”‚ Used by:
                                        â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚    WatchHistory          â”‚
                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                        â”‚ PK id                    â”‚
                        â”‚ FK userId â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”
                        â”‚ FK movieId               â”‚  â”‚
                        â”‚ FK episodeId             â”‚  â”‚
                        â”‚    currentTime           â”‚  â”‚
                        â”‚    duration              â”‚  â”‚
                        â”‚    watchedAt             â”‚  â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                                                      â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                        â”‚       Favorite           â”‚  â”‚
                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
                        â”‚ PK id                    â”‚  â”‚
                        â”‚ FK userId â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¤
                        â”‚ FK movieId               â”‚  â”‚
                        â”‚    createdAt             â”‚  â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                                                      â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                        â”‚      Comment             â”‚  â”‚
                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
                        â”‚ PK id                    â”‚  â”‚
                        â”‚ FK userId â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¤
                        â”‚ FK parentId (self-ref)   â”‚  â”‚
                        â”‚    content               â”‚  â”‚
                        â”‚    contentType (movie/ep)â”‚  â”‚
                        â”‚    contentId             â”‚  â”‚
                        â”‚    depth (0-2)           â”‚  â”‚
                        â”‚    likeCount             â”‚  â”‚
                        â”‚    isHidden              â”‚  â”‚
                        â”‚    isPinned              â”‚  â”‚
                        â”‚    createdAt             â”‚  â”‚
                        â”‚    updatedAt             â”‚  â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                                                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”‚    Conversation          â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”‚ PK id                    â”‚
â”‚  â”‚    type (private/group)  â”‚
â”‚  â”‚    name                  â”‚
â”‚  â”‚    createdAt             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚           â”‚ 1:n
â”‚           â–¼
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”‚ ConversationParticipant  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”‚ PK id                    â”‚
â”‚  â”‚ FK conversationId        â”‚
â””â”€â–ºâ”‚ FK userId                â”‚
   â”‚    isPinned              â”‚
   â”‚    isLocked              â”‚
   â”‚    isHidden              â”‚
   â”‚    joinedAt              â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ 1:n
            â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚       Message            â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ PK id                    â”‚
   â”‚ FK conversationId        â”‚
   â”‚ FK senderId              â”‚
   â”‚    content               â”‚
   â”‚    type (text/image/file)â”‚
   â”‚    isDeleted             â”‚
   â”‚    createdAt             â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚     Notification         â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ PK id                    â”‚
   â”‚ FK userId                â”‚
   â”‚ FK senderId              â”‚
   â”‚    type                  â”‚
   â”‚    content               â”‚
   â”‚    data (JSON)           â”‚
   â”‚    isRead                â”‚
   â”‚    createdAt             â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[HÃ¬nh 1.10: Entity Relationship Diagram - Full Schema]
```

**ChÃº thÃ­ch:**
- **PK**: Primary Key
- **FK**: Foreign Key
- **UQ**: Unique constraint
- **1:n**: One-to-Many relationship
- **n:n**: Many-to-Many relationship (vá»›i junction table)
- **JSON**: Dá»¯ liá»‡u dáº¡ng JSON (vÃ­ dá»¥: titles, subtitles, socialLinks)

#### B. Chi tiáº¿t cÃ¡c báº£ng chÃ­nh

**1. Báº£ng Users**
```sql
CREATE TABLE users (
  id INT PRIMARY KEY AUTO_INCREMENT,
  uuid VARCHAR(36) UNIQUE NOT NULL DEFAULT (UUID()),
  username VARCHAR(50) UNIQUE NOT NULL,
  email VARCHAR(100) UNIQUE NOT NULL,
  password VARCHAR(255), -- Hashed vá»›i Bcrypt, NULL náº¿u social login
  avatarUrl VARCHAR(255),
  coverUrl VARCHAR(255),
  bio TEXT,
  birthDate DATE,
  gender ENUM('male', 'female', 'other'),
  socialLinks JSON, -- {facebook, twitter, instagram}
  isActive BOOLEAN DEFAULT TRUE,
  emailVerified BOOLEAN DEFAULT FALSE,
  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  
  INDEX idx_email (email),
  INDEX idx_username (username),
  INDEX idx_uuid (uuid)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

**2. Báº£ng Movies**
```sql
CREATE TABLE movies (
  id INT PRIMARY KEY AUTO_INCREMENT,
  slug VARCHAR(255) UNIQUE NOT NULL,
  titles JSON NOT NULL, -- [{type: 'default', title: '...'}, {type: 'vi', title: '...'}]
  description TEXT,
  posterUrl VARCHAR(255),
  backdropUrl VARCHAR(255),
  trailerUrl VARCHAR(255),
  year INT,
  duration INT COMMENT 'Duration in minutes',
  type ENUM('movie', 'series') NOT NULL DEFAULT 'movie',
  rating DECIMAL(3,2) DEFAULT 0.00,
  views INT DEFAULT 0,
  status ENUM('draft', 'published', 'archived') DEFAULT 'draft',
  countryId INT,
  categoryId INT,
  seriesId INT,
  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  
  INDEX idx_slug (slug),
  INDEX idx_type (type),
  INDEX idx_status (status),
  INDEX idx_views (views),
  INDEX idx_rating (rating),
  FULLTEXT idx_search (titles, description),
  
  FOREIGN KEY (countryId) REFERENCES countries(id) ON DELETE SET NULL,
  FOREIGN KEY (categoryId) REFERENCES categories(id) ON DELETE SET NULL,
  FOREIGN KEY (seriesId) REFERENCES series(id) ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

**3. Báº£ng Comments (Nested Structure)**
```sql
CREATE TABLE comments (
  id INT PRIMARY KEY AUTO_INCREMENT,
  userId INT NOT NULL,
  content TEXT NOT NULL,
  contentType ENUM('movie', 'episode') NOT NULL,
  contentId INT NOT NULL COMMENT 'movieId or episodeId',
  parentId INT DEFAULT NULL COMMENT 'NULL for root comments',
  depth INT DEFAULT 0 COMMENT 'Max depth = 2 (3 levels)',
  likeCount INT DEFAULT 0,
  isHidden BOOLEAN DEFAULT FALSE,
  isPinned BOOLEAN DEFAULT FALSE,
  isApproved BOOLEAN DEFAULT TRUE,
  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  
  INDEX idx_content (contentType, contentId),
  INDEX idx_parent (parentId),
  INDEX idx_user (userId),
  INDEX idx_created (createdAt),
  
  FOREIGN KEY (userId) REFERENCES users(id) ON DELETE CASCADE,
  FOREIGN KEY (parentId) REFERENCES comments(id) ON DELETE CASCADE,
  
  CONSTRAINT chk_depth CHECK (depth >= 0 AND depth <= 2)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

**4. Báº£ng Messages (Chat)**
```sql
CREATE TABLE messages (
  id INT PRIMARY KEY AUTO_INCREMENT,
  conversationId INT NOT NULL,
  senderId INT NOT NULL,
  content TEXT NOT NULL,
  type ENUM('text', 'image', 'file') DEFAULT 'text',
  isDeleted BOOLEAN DEFAULT FALSE,
  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  
  INDEX idx_conversation (conversationId, createdAt),
  INDEX idx_sender (senderId),
  
  FOREIGN KEY (conversationId) REFERENCES conversations(id) ON DELETE CASCADE,
  FOREIGN KEY (senderId) REFERENCES users(id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

#### C. Indexes vÃ  Performance

**CÃ¡c index quan trá»ng:**
1. **Index cho tÃ¬m kiáº¿m phim**: `FULLTEXT INDEX` trÃªn `titles` vÃ  `description`
2. **Index cho sorting**: `views`, `rating`, `createdAt`
3. **Index cho filtering**: `countryId`, `categoryId`, `type`, `status`
4. **Index cho comments**: Composite index `(contentType, contentId, createdAt)`
5. **Index cho chat**: Composite index `(conversationId, createdAt)` Ä‘á»ƒ load tin nháº¯n theo thá»© tá»±

**Partitioning Strategy** (cho scale lá»›n):
- Partition `watch_histories` theo `watchedAt` (monthly)
- Partition `messages` theo `createdAt` (monthly)
- Partition `notifications` theo `createdAt` (monthly)

---

## 1.5. CÃ´ng nghá»‡ sá»­ dá»¥ng

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              FRONTEND (React)                    â”‚
â”‚  - UI Components                                 â”‚
â”‚  - State Management (Redux, Zustand)            â”‚
â”‚  - Routing (React Router)                       â”‚
â”‚  - Real-time Communication (Socket.IO Client)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ HTTP/WebSocket
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            BACKEND (Node.js/Express)            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         Controllers Layer                 â”‚  â”‚
â”‚  â”‚  - Request Handling                       â”‚  â”‚
â”‚  â”‚  - Response Formatting                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         Services Layer                    â”‚  â”‚
â”‚  â”‚  - Business Logic                         â”‚  â”‚
â”‚  â”‚  - Data Processing                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         Models Layer                      â”‚  â”‚
â”‚  â”‚  - Database Schema (Sequelize ORM)       â”‚  â”‚
â”‚  â”‚  - Data Validation                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                        â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
â”‚ MySQL  â”‚            â”‚   Redis   â”‚
â”‚Databaseâ”‚            â”‚   Cache   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2. Cáº¥u trÃºc thÆ° má»¥c

#### Frontend Structure
```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/         # CÃ¡c component tÃ¡i sá»­ dá»¥ng
â”‚   â”œâ”€â”€ pages/             # CÃ¡c trang chÃ­nh
â”‚   â”‚   â”œâ”€â”€ HomePage.jsx
â”‚   â”‚   â”œâ”€â”€ MovieDetailPage.jsx
â”‚   â”‚   â”œâ”€â”€ MovieWatchPage.jsx
â”‚   â”‚   â”œâ”€â”€ ProfilePage.jsx
â”‚   â”‚   â”œâ”€â”€ SettingPage.jsx
â”‚   â”‚   â””â”€â”€ admin/         # Trang quáº£n trá»‹
â”‚   â”œâ”€â”€ store/             # Redux store
â”‚   â”œâ”€â”€ services/          # API services
â”‚   â”œâ”€â”€ hooks/             # Custom hooks
â”‚   â””â”€â”€ utils/             # Utility functions
â””â”€â”€ public/
```

#### Backend Structure
```
backend/
â”œâ”€â”€ controllers/           # Xá»­ lÃ½ request/response
â”œâ”€â”€ services/             # Business logic
â”œâ”€â”€ models/               # Database models
â”œâ”€â”€ routes/               # API routes
â”œâ”€â”€ middlewares/          # Middleware functions
â”œâ”€â”€ config/               # Configuration files
â”œâ”€â”€ utils/                # Utility functions
â””â”€â”€ uploads/              # File uploads
```

---

## 3. CÃ”NG NGHá»† Sá»¬ Dá»¤NG


### 1.5.1. Tech Stack Overview

| Layer | CÃ´ng nghá»‡ | PhiÃªn báº£n | Vai trÃ² |
|-------|-----------|-----------|---------|
| **Frontend Framework** | React | 19.1.1 | UI library |
| **Build Tool** | Vite | 7.1.2 | Fast bundler & dev server |
| **State Management** | Redux Toolkit | 2.8.2 | Global state |
| | Zustand | 5.0.8 | Lightweight state |
| | React Query | 5.89.0 | Server state & caching |
| **Routing** | React Router | 7.8.2 | Client-side routing |
| **HTTP Client** | Axios | 1.11.0 | API calls |
| **Real-time** | Socket.IO Client | 4.7.5 | WebSocket client |
| **Form Handling** | React Hook Form | 7.62.0 | Form management |
| **Validation** | Yup | 1.7.0 | Schema validation |
| **Styling** | SASS | 1.91.0 | CSS preprocessing |
| **Charts** | Chart.js | 4.5.0 | Data visualization |
| **Backend Framework** | Express.js | 4.19.2 | Web server |
| **ORM** | Sequelize | 6.37.3 | Database ORM |
| **Database** | MySQL | 8.0+ | Relational database |
| **Cache** | Redis + IORedis | 5.8.0 | In-memory cache |
| **Real-time Server** | Socket.IO | 4.7.5 | WebSocket server |
| **Authentication** | JWT | 9.0.2 | Token-based auth |
| **Password Hashing** | Bcrypt | 5.1.1 | Secure hashing |
| **File Upload** | Multer | 1.4.5 | Multipart form-data |
| **Image Processing** | Sharp | 0.34.4 | Resize & optimize |
| **Video Processing** | FFmpeg | 1.1.0 | Video manipulation |
| **AI Integration** | Google Generative AI | 0.24.1 | Gemini AI |
| **Logging** | Winston | 3.18.3 | Application logging |
| **Security** | Helmet | 7.1.0 | Security headers |

**ChÃº thÃ­ch:**
- âœ… Táº¥t cáº£ cÃ´ng nghá»‡ Ä‘á»u lÃ  **open-source** vÃ  **miá»…n phÃ­**
- ğŸš€ Lá»±a chá»n cÃ´ng nghá»‡ má»›i nháº¥t vÃ  Ä‘Æ°á»£c cá»™ng Ä‘á»“ng há»— trá»£ tá»‘t
- ğŸ“š CÃ³ documentation Ä‘áº§y Ä‘á»§ vÃ  nhiá»u tÃ i liá»‡u há»c táº­p

---

# CHÆ¯Æ NG 2: THá»°C NGHIá»†M VÃ€ TRIá»‚N KHAI

## 2.1. Quy trÃ¬nh phÃ¡t triá»ƒn

### 2.1.1. PhÆ°Æ¡ng phÃ¡p Agile/Scrum

NhÃ³m Ã¡p dá»¥ng phÆ°Æ¡ng phÃ¡p **Agile** vá»›i cÃ¡c sprint 2 tuáº§n:

```
Sprint Planning (Week 1, Day 1)
    â”‚
    â”œâ”€â–º Sprint 1: Authentication & User Management
    â”‚   â”œâ”€ Week 1: Backend API (auth, user CRUD)
    â”‚   â””â”€ Week 2: Frontend UI (login, register, profile)
    â”‚
    â”œâ”€â–º Sprint 2: Movie Management
    â”‚   â”œâ”€ Week 1: Backend (movie CRUD, episodes)
    â”‚   â””â”€ Week 2: Frontend (movie list, detail, player)
    â”‚
    â”œâ”€â–º Sprint 3: Social Features
    â”‚   â”œâ”€ Week 1: Backend (friends, comments, notifications)
    â”‚   â””â”€ Week 2: Frontend (friend list, comment UI, notif)
    â”‚
    â”œâ”€â–º Sprint 4: Real-time Chat
    â”‚   â”œâ”€ Week 1: Socket.IO setup, message API
    â”‚   â””â”€ Week 2: Chat UI, real-time updates
    â”‚
    â””â”€â–º Sprint 5: AI Integration & Polish
        â”œâ”€ Week 1: AI chatbot, recommendations
        â””â”€ Week 2: Bug fixes, optimization, testing

[HÃ¬nh 2.1: Sprint Planning - 5 sprints x 2 weeks = 10 weeks]
```

### 2.1.2. Git Workflow

**Branching Strategy:**
```
main (production)
  â”‚
  â””â”€â–º develop (integration)
        â”‚
        â”œâ”€â–º feature/authentication
        â”œâ”€â–º feature/movie-management
        â”œâ”€â–º feature/chat-system
        â”œâ”€â–º feature/ai-integration
        â”œâ”€â–º feature/reels-module (current)
        â”‚
        â”œâ”€â–º bugfix/login-error
        â””â”€â–º hotfix/security-patch
```

**Commit Message Convention:**
```bash
feat: Add login with Google OAuth
fix: Resolve socket disconnection issue
refactor: Optimize movie query performance
docs: Update API documentation
style: Format code with Prettier
test: Add unit tests for auth service
chore: Update dependencies
```

### 2.1.3. Code Review Process

1. Developer táº¡o Pull Request (PR)
2. Ãt nháº¥t 1 thÃ nh viÃªn khÃ¡c review code
3. Pass CI/CD checks (náº¿u cÃ³)
4. Approve â†’ Merge vÃ o `develop`
5. Weekly merge `develop` â†’ `main`

---

## 2.2. CÃ´ng cá»¥ quáº£n lÃ½ dá»± Ã¡n

### 2.2.1. Trello - Project Management

**Board Structure:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Sáº¡p Phim - Trello Board               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Backlog    â”‚  To Do       â”‚  In Progress â”‚    Done    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‹ Feature   â”‚ ğŸ¯ Sprint 3  â”‚ ğŸ”¨ Äang lÃ m  â”‚ âœ… HoÃ n    â”‚
â”‚   requests   â”‚   tasks      â”‚              â”‚    thÃ nh   â”‚
â”‚              â”‚              â”‚              â”‚            â”‚
â”‚ â€¢ Payment    â”‚ â€¢ Friend API â”‚ â€¢ Chat UI    â”‚ â€¢ Login    â”‚
â”‚   gateway    â”‚ â€¢ Comment UI â”‚ â€¢ Socket.IO  â”‚ â€¢ Movie    â”‚
â”‚ â€¢ Push       â”‚ â€¢ Notif API  â”‚   setup      â”‚   CRUD     â”‚
â”‚   notif      â”‚              â”‚ â€¢ AI chatbot â”‚ â€¢ Profile  â”‚
â”‚ â€¢ Mobile app â”‚              â”‚              â”‚ â€¢ Search   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Sá»­ dá»¥ng Trello cho:**
- âœ… Quáº£n lÃ½ task (cards) vá»›i labels (Frontend/Backend/Bug/Feature)
- âœ… Assign members cho tá»«ng task
- âœ… Set due dates vÃ  priority
- âœ… Attach mockups, screenshots
- âœ… Checklist cho sub-tasks
- âœ… Comment vÃ  discuss trÃªn tá»«ng card

**Labels:**
- ğŸŸ¢ **Frontend**: React components, UI/UX
- ğŸ”µ **Backend**: API, Database, Services
- ğŸŸ£ **Fullstack**: Cáº§n cáº£ frontend láº«n backend
- ğŸ”´ **Bug**: Lá»—i cáº§n fix gáº¥p
- ğŸŸ¡ **Enhancement**: Cáº£i tiáº¿n feature cÃ³ sáºµn
- âšª **Documentation**: Viáº¿t docs, readme

### 2.2.2. GitHub - Version Control

**Repository:**
- Repo: `https://github.com/wwan-code/rap-re`
- Branch hiá»‡n táº¡i: `feat/reels-module`
- Commits: 500+ commits
- Contributors: 4 thÃ nh viÃªn

**GitHub Features sá»­ dá»¥ng:**
- âœ… **Issues**: Track bugs vÃ  feature requests
- âœ… **Pull Requests**: Code review process
- âœ… **Projects**: Kanban board (tÆ°Æ¡ng tá»± Trello)
- âœ… **Wiki**: Documentation
- âœ… **Actions**: CI/CD (náº¿u cÃ³)

### 2.2.3. Postman - API Testing

**Collections:**
```
Sáº¡p Phim API
â”œâ”€â”€ Authentication
â”‚   â”œâ”€â”€ POST /api/auth/register
â”‚   â”œâ”€â”€ POST /api/auth/login
â”‚   â”œâ”€â”€ POST /api/auth/social-login
â”‚   â””â”€â”€ POST /api/auth/refresh
â”œâ”€â”€ Movies
â”‚   â”œâ”€â”€ GET /api/movies (with filters)
â”‚   â”œâ”€â”€ GET /api/movie/detail/:slug
â”‚   â”œâ”€â”€ POST /api/movies (Admin)
â”‚   â””â”€â”€ PUT /api/movies/:id (Admin)
â”œâ”€â”€ Social
â”‚   â”œâ”€â”€ POST /api/friends/send
â”‚   â”œâ”€â”€ GET /api/friends
â”‚   â””â”€â”€ POST /api/comments
â””â”€â”€ AI
    â”œâ”€â”€ POST /api/ai/query
    â””â”€â”€ POST /api/ai/recommend
```

**Environment Variables:**
- `DEV`: http://localhost:5000
- `PROD`: https://api.sapphim.com (example)

### 2.2.4. MySQL Workbench - Database Management

**Sá»­ dá»¥ng cho:**
- âœ… Design ERD visually
- âœ… Execute SQL queries
- âœ… Database backup & restore
- âœ… Performance monitoring
- âœ… Index optimization

---

## 2.3. Thiáº¿t káº¿ giao diá»‡n (UI/UX)

### 2.3.1. Figma - Design System

**Figma Project Structure:**
```
Sáº¡p Phim Design
â”œâ”€â”€ ğŸ¨ Design System
â”‚   â”œâ”€â”€ Colors (Liquid Glass palette)
â”‚   â”œâ”€â”€ Typography (Fonts, sizes)
â”‚   â”œâ”€â”€ Components (Buttons, Inputs, Cards)
â”‚   â”œâ”€â”€ Icons (Custom SVG icons)
â”‚   â””â”€â”€ Spacing & Grid
â”œâ”€â”€ ğŸ“± Mobile Screens (375px)
â”‚   â”œâ”€â”€ Home
â”‚   â”œâ”€â”€ Movie Detail
â”‚   â”œâ”€â”€ Watch Page
â”‚   â”œâ”€â”€ Profile
â”‚   â””â”€â”€ Chat
â”œâ”€â”€ ğŸ’» Desktop Screens (1920px)
â”‚   â”œâ”€â”€ Homepage with sections
â”‚   â”œâ”€â”€ Movie Detail with recommendations
â”‚   â”œâ”€â”€ Watch Page (Cinema mode)
â”‚   â”œâ”€â”€ Admin Dashboard
â”‚   â””â”€â”€ Chat with sidebar
â””â”€â”€ ğŸ”„ Prototypes & Interactions
    â”œâ”€â”€ Login flow
    â”œâ”€â”€ Movie watching flow
    â””â”€â”€ Chat flow
```

**Link Figma:** `https://figma.com/file/sapphim-design` (vÃ­ dá»¥)

**ChÃº thÃ­ch:**
- Figma cho phÃ©p **real-time collaboration** - nhiá»u ngÆ°á»i design cÃ¹ng lÃºc
- Export assets (images, SVG) trá»±c tiáº¿p
- Handoff sang code vá»›i CSS, measurements
- Prototype Ä‘á»ƒ test user flow trÆ°á»›c khi code

### 2.3.2. Design Principles

**1. Liquid Glass UI**

Inspired by iOS 26 design language:
```css
/* Glassmorphism effect */
.glass-card {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
}
```

**Äáº·c Ä‘iá»ƒm:**
- âœ¨ Translucent backgrounds
- ğŸŒŠ Smooth animations
- ğŸ­ Depth vá»›i shadows
- ğŸ”® Blur effects (backdrop-filter)

**2. Color Palette**

| Color | Hex | Sá»­ dá»¥ng |
|-------|-----|---------|
| **Primary** | `#6366F1` (Indigo) | Buttons, links, active states |
| **Secondary** | `#8B5CF6` (Purple) | Accents, highlights |
| **Success** | `#10B981` (Green) | Success messages, online status |
| **Danger** | `#EF4444` (Red) | Errors, delete actions |
| **Warning** | `#F59E0B` (Amber) | Warnings, pending states |
| **Background** | `#0F172A` (Dark) | Main background (dark mode) |
| **Surface** | `#1E293B` | Cards, modals |
| **Text Primary** | `#F1F5F9` | Main text |
| **Text Secondary** | `#94A3B8` | Subtitles, hints |

**3. Typography**

```scss
// Font Family
$font-primary: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
$font-heading: 'Poppins', 'Inter', sans-serif;

// Font Sizes
$font-xs: 0.75rem;   // 12px
$font-sm: 0.875rem;  // 14px
$font-base: 1rem;    // 16px (default)
$font-lg: 1.125rem;  // 18px
$font-xl: 1.25rem;   // 20px
$font-2xl: 1.5rem;   // 24px
$font-3xl: 1.875rem; // 30px
$font-4xl: 2.25rem;  // 36px
```

### 2.3.3. Responsive Design

**Breakpoints:**
```scss
$breakpoints: (
  'xs': 0,
  'sm': 576px,  // Mobile landscape
  'md': 768px,  // Tablet portrait
  'lg': 992px,  // Tablet landscape
  'xl': 1200px, // Desktop
  'xxl': 1400px // Large desktop
);
```

**Mobile-First Approach:**
```scss
// Default: Mobile styles
.header {
  padding: 1rem;
  
  // Tablet and up
  @media (min-width: 768px) {
    padding: 2rem;
  }
  
  // Desktop and up
  @media (min-width: 1200px) {
    padding: 3rem;
  }
}
```

### 2.3.4. Key Screens - Figma Mockups

#### A. Homepage

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Logo    [Search...]      ğŸ”” Notifications    ğŸ‘¤ Profile     â”‚ <- Header
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                                       â”‚    â”‚
â”‚  â”‚         [Large Featured Movie Banner]                â”‚    â”‚ <- Hero
â”‚  â”‚         with backdrop, title, description            â”‚    â”‚
â”‚  â”‚         [â–¶ Xem ngay]  [+ Danh sÃ¡ch]                 â”‚    â”‚
â”‚  â”‚                                                       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                               â”‚
â”‚  Phim Ä‘á» xuáº¥t cho báº¡n                            [Xem thÃªm] â”‚ <- Section
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚[Posterâ”‚ â”‚[Posterâ”‚ â”‚[Posterâ”‚ â”‚[Posterâ”‚ â”‚[Posterâ”‚         â”‚
â”‚  â”‚  img] â”‚ â”‚  img] â”‚ â”‚  img] â”‚ â”‚  img] â”‚ â”‚  img] â”‚  <â”€â”€â”€â”€â”€â”€â”¤ Swiper
â”‚  â”‚ Title â”‚ â”‚ Title â”‚ â”‚ Title â”‚ â”‚ Title â”‚ â”‚ Title â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                               â”‚
â”‚  Phim bá»™ hot                                     [Xem thÃªm]  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚[Posterâ”‚ â”‚[Posterâ”‚ â”‚[Posterâ”‚ â”‚[Posterâ”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                               â”‚
â”‚  Continue Watching                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚ [Thumbnail] Movie Title       â”‚ â”â”â”â”â”â”â”â”â—â”€ 67%          â”‚ <- Progress
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[HÃ¬nh 2.2: Homepage Design - Desktop]
```

**ChÃº thÃ­ch:**
- **Hero Section**: Phim featured vá»›i backdrop full-width
- **Sections**: CÃ¡c carousel phim theo category/genre
- **Continue Watching**: Hiá»ƒn thá»‹ progress bar
- **Sticky Header**: Header cá»‘ Ä‘á»‹nh khi scroll

#### B. Movie Watch Page

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Video Player - 16:9 aspect ratio]                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                                       â”‚    â”‚
â”‚  â”‚                   [Playing Video]                    â”‚    â”‚
â”‚  â”‚                                                       â”‚    â”‚
â”‚  â”‚  [â–¶]  â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  [ğŸ”Š] [CC] [âš™ï¸] [Fullscreen] â”‚    â”‚ <- Controls
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Movie Title - Táº­p 1                        [ğŸ¬ Cinema Mode]â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Episodes            â”‚  â”‚ Comments (123)                â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚ â”‚â–¶ Táº­p 1 (current)â”‚ â”‚  â”‚ â”‚ User A: Great movie!     â”‚ â”‚ â”‚
â”‚  â”‚ â”‚  Táº­p 2          â”‚ â”‚  â”‚ â”‚ [Like] [Reply]           â”‚ â”‚ â”‚
â”‚  â”‚ â”‚  Táº­p 3          â”‚ â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚
â”‚  â”‚ â”‚  Táº­p 4          â”‚ â”‚  â”‚ â”‚ User B: I agree!         â”‚ â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ [Write comment...]           â”‚ â”‚
â”‚                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[HÃ¬nh 2.3: Movie Watch Page - Desktop]
```

**ChÃº thÃ­ch:**
- **Video Player**: Custom controls vá»›i seek, volume, quality, subtitle
- **Episodes List**: Sidebar vá»›i danh sÃ¡ch táº­p (náº¿u series)
- **Comments Section**: Real-time comments vá»›i nested replies
- **Cinema Mode**: áº¨n UI xung quanh, focus vÃ o video

#### C. Admin Dashboard

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜° Sidebar â”‚              Dashboard                   Admin â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           â”‚                                                  â”‚
â”‚ ğŸ“Š Dashboard â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ ğŸ¬ Movies  â”‚  â”‚ ğŸ‘¥ Users  â”‚ â”‚ ğŸ¥ Moviesâ”‚ â”‚ ğŸ’¬ Commentâ”‚    â”‚
â”‚ ğŸ“º Episodesâ”‚  â”‚   1,234   â”‚ â”‚    567   â”‚ â”‚   3,456  â”‚    â”‚ <- Stats
â”‚ ğŸ­ Genres  â”‚  â”‚  +5.2%    â”‚ â”‚  +12.3%  â”‚ â”‚  +8.1%   â”‚    â”‚
â”‚ ğŸ“ Commentsâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚ ğŸ“ˆ Analyticsâ”‚                                              â”‚
â”‚ âš™ï¸ Settingsâ”‚  [Line Chart: Views over time]               â”‚ <- Chart
â”‚           â”‚                                                  â”‚
â”‚           â”‚  Top Movies This Week:                          â”‚
â”‚           â”‚  1. Avengers: Endgame - 10,234 views            â”‚
â”‚           â”‚  2. Spider-Man - 8,123 views                    â”‚
â”‚           â”‚  3. Inception - 7,456 views                     â”‚
â”‚           â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[HÃ¬nh 2.4: Admin Dashboard]
```

**ChÃº thÃ­ch:**
- **Sidebar**: Navigation menu collapsible
- **Stat Cards**: Overview metrics vá»›i trend indicators
- **Charts**: Visualization vá»›i Chart.js
- **Tables**: Paginated data tables

---

## 2.4. Triá»ƒn khai cÃ¡c module chÃ­nh

### 2.4.1. Module Authentication

**Timeline: Sprint 1 (2 weeks)**

#### Backend Implementation

**File structure:**
```
backend/
â”œâ”€â”€ controllers/
â”‚   â””â”€â”€ auth.controller.js       # Handle HTTP requests
â”œâ”€â”€ services/
â”‚   â””â”€â”€ auth.service.js          # Business logic
â”œâ”€â”€ middlewares/
â”‚   â””â”€â”€ auth.middleware.js       # JWT verification
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ User.js                  # User model
â”‚   â””â”€â”€ RefreshToken.js          # Token model
â””â”€â”€ routes/
    â””â”€â”€ auth.routes.js           # API routes
```

**Key code snippets:**

```javascript
// auth.service.js - Register user
export const registerUser = async (userData) => {
  const { email, username, password } = userData;
  
  // 1. Check if user exists
  const existingUser = await User.findOne({ where: { email } });
  if (existingUser) {
    throw new Error('Email already exists');
  }
  
  // 2. Hash password
  const hashedPassword = await bcrypt.hash(password, 10);
  
  // 3. Create user
  const user = await User.create({
    email,
    username,
    password: hashedPassword,
    uuid: uuidv4(),
  });
  
  // 4. Generate tokens
  const accessToken = generateAccessToken(user);
  const refreshToken = generateRefreshToken(user);
  
  // 5. Save refresh token to DB
  await RefreshToken.create({
    userId: user.id,
    token: refreshToken,
    expiresAt: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000), // 7 days
  });
  
  return { user, accessToken, refreshToken };
};
```

**ChÃº thÃ­ch:**
- âœ… Password Ä‘Æ°á»£c hash vá»›i **Bcrypt** (10 rounds)
- âœ… JWT access token cÃ³ thá»i háº¡n **15 phÃºt**
- âœ… Refresh token lÆ°u trong DB vÃ  cookie (HttpOnly, Secure)
- âœ… UUID Ä‘á»ƒ lÃ m public identifier (khÃ´ng expose database ID)

#### Frontend Implementation

**File structure:**
```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ LoginPage.jsx
â”‚   â”‚   â””â”€â”€ RegisterPage.jsx
â”‚   â”œâ”€â”€ store/
â”‚   â”‚   â””â”€â”€ slices/
â”‚   â”‚       â””â”€â”€ authSlice.js     # Redux slice
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ api.js               # Axios instance with interceptors
â”‚   â””â”€â”€ components/
â”‚       â””â”€â”€ auth/
â”‚           â”œâ”€â”€ LoginForm.jsx
â”‚           â””â”€â”€ SocialLoginButtons.jsx
```

**Key code snippets:**

```javascript
// authSlice.js - Redux state
const authSlice = createSlice({
  name: 'auth',
  initialState: {
    user: null,
    accessToken: null,
    isAuthenticated: false,
    loading: false,
    error: null,
  },
  reducers: {
    loginSuccess: (state, action) => {
      state.user = action.payload.user;
      state.accessToken = action.payload.accessToken;
      state.isAuthenticated = true;
    },
    logout: (state) => {
      state.user = null;
      state.accessToken = null;
      state.isAuthenticated = false;
    },
  },
});
```

**Challenges & Solutions:**

| Challenge | Solution |
|-----------|----------|
| Token refresh khi expired | Axios interceptor tá»± Ä‘á»™ng gá»i `/refresh` endpoint |
| Social login vá»›i Firebase | TÃ­ch há»£p Firebase SDK, verify ID token á»Ÿ backend |
| Persist login sau khi reload | Redux Persist vá»›i localStorage |
| Secure storage cho tokens | Access token trong memory, refresh trong HttpOnly cookie |

### 2.4.2. Module Real-time Chat

**Timeline: Sprint 4 (2 weeks)**

#### Socket.IO Setup

**Backend:**
```javascript
// backend/config/socket.js
import { Server } from 'socket.io';
import { verifySocketToken } from '../middlewares/auth.middleware.js';

export const initSocket = (httpServer) => {
  const io = new Server(httpServer, {
    cors: {
      origin: process.env.CLIENT_URL,
      credentials: true,
    },
  });
  
  // Authentication middleware
  io.use(async (socket, next) => {
    const token = socket.handshake.auth.token;
    try {
      const user = await verifySocketToken(token);
      socket.userId = user.id;
      next();
    } catch (error) {
      next(new Error('Authentication failed'));
    }
  });
  
  // Connection handling
  io.on('connection', (socket) => {
    console.log(`User ${socket.userId} connected`);
    
    // Join user's private room
    socket.join(`user_${socket.userId}`);
    
    // Handle events
    socket.on('send-message', async (data) => {
      // Save message to DB
      const message = await saveMessage(data);
      
      // Emit to receiver
      io.to(`user_${data.receiverId}`).emit('new-message', message);
    });
    
    socket.on('disconnect', () => {
      console.log(`User ${socket.userId} disconnected`);
    });
  });
  
  return io;
};
```

**Frontend:**
```javascript
// frontend/src/socket/socketManager.jsx
import { io } from 'socket.io-client';

let socket = null;

export const initializeSocket = (accessToken) => {
  socket = io(import.meta.env.VITE_SOCKET_URL, {
    auth: { token: accessToken },
    autoConnect: true,
  });
  
  socket.on('connect', () => {
    console.log('Socket connected');
  });
  
  socket.on('new-message', (message) => {
    // Update UI with new message
    queryClient.invalidateQueries(['messages', message.conversationId]);
    
    // Show notification
    toast.info(`New message from ${message.sender.username}`);
  });
  
  return socket;
};

export const sendMessage = (data) => {
  socket.emit('send-message', data);
};
```

**ChÃº thÃ­ch:**
- âœ… Socket.IO cho **bidirectional real-time communication**
- âœ… Room-based targeting: `user_${userId}` Ä‘á»ƒ gá»­i tin nháº¯n riÃªng tÆ°
- âœ… Authentication qua JWT token trong handshake
- âœ… TÃ­ch há»£p vá»›i React Query Ä‘á»ƒ invalidate cache

**Testing:**
1. Má»Ÿ 2 browser windows (User A vÃ  User B)
2. ÄÄƒng nháº­p vá»›i 2 tÃ i khoáº£n khÃ¡c nhau
3. User A gá»­i tin nháº¯n cho User B
4. Tin nháº¯n xuáº¥t hiá»‡n real-time á»Ÿ cáº£ 2 bÃªn
5. Check Network tab: WebSocket connection established

### 2.4.3. Module AI Integration

**Timeline: Sprint 5 (1 week)**

#### Google Gemini AI Setup

**Backend:**
```javascript
// backend/services/ai.service.js
import { GoogleGenerativeAI } from '@google/generative-ai';

const genAI = new GoogleGenerativeAI(process.env.GEMINI_API_KEY);

export const chatWithAI = async (userId, message) => {
  // 1. Get user context (watch history, favorites)
  const userContext = await getUserContext(userId);
  
  // 2. Build prompt
  const prompt = `
    You are a movie recommendation assistant.
    User context:
    - Favorite genres: ${userContext.genres.join(', ')}
    - Recently watched: ${userContext.recentMovies.join(', ')}
    
    User question: ${message}
    
    Please provide helpful movie recommendations or answer their question.
  `;
  
  // 3. Call Gemini API
  const model = genAI.getGenerativeModel({ model: 'gemini-pro' });
  const result = await model.generateContent(prompt);
  const response = result.response.text();
  
  // 4. Save to AI log
  await AiLog.create({
    userId,
    query: message,
    response,
    type: 'chat',
  });
  
  return response;
};
```

**ChÃº thÃ­ch:**
- âœ… **Context-aware**: AI biáº¿t vá» lá»‹ch sá»­ xem vÃ  sá»Ÿ thÃ­ch cá»§a user
- âœ… **Prompt engineering**: Cáº¥u trÃºc prompt Ä‘á»ƒ AI tráº£ lá»i chÃ­nh xÃ¡c
- âœ… **Logging**: LÆ°u láº¡i táº¥t cáº£ queries vÃ  responses Ä‘á»ƒ phÃ¢n tÃ­ch

**Use Cases:**
1. **TÆ° váº¥n phim**: "Gá»£i Ã½ phim hÃ nh Ä‘á»™ng hay"
2. **Tráº£ lá»i cÃ¢u há»i**: "Avengers cÃ³ máº¥y pháº§n?"
3. **So sÃ¡nh**: "Marvel vs DC, nÃªn xem cÃ¡i nÃ o?"

---

## 2.5. Testing vÃ  Quality Assurance

### 2.5.1. Testing Strategy

| Test Type | Tool | Coverage | Status |
|-----------|------|----------|--------|
| **Unit Tests** | Jest | Backend services | â³ Planned |
| **Integration Tests** | Supertest | API endpoints | â³ Planned |
| **E2E Tests** | Cypress | User flows | â³ Planned |
| **Manual Testing** | Browser | All features | âœ… Ongoing |
| **Performance Testing** | Lighthouse | Page speed | âœ… Done |
| **Security Testing** | OWASP ZAP | Vulnerabilities | â³ Planned |

### 2.5.2. Manual Testing Checklist

**Authentication:**
- âœ… ÄÄƒng kÃ½ vá»›i email há»£p lá»‡
- âœ… ÄÄƒng kÃ½ vá»›i email trÃ¹ng láº·p (should fail)
- âœ… ÄÄƒng nháº­p vá»›i Ä‘Ãºng credentials
- âœ… ÄÄƒng nháº­p vá»›i sai password (should fail)
- âœ… ÄÄƒng nháº­p vá»›i Google
- âœ… Token refresh tá»± Ä‘á»™ng
- âœ… Logout vÃ  xÃ³a tokens

**Movie Watching:**
- âœ… Load danh sÃ¡ch phim
- âœ… TÃ¬m kiáº¿m phim theo tÃªn
- âœ… Filter theo thá»ƒ loáº¡i
- âœ… Xem chi tiáº¿t phim
- âœ… Play video
- âœ… Pause vÃ  resume
- âœ… Chuyá»ƒn táº­p phim (series)
- âœ… LÆ°u tiáº¿n trÃ¬nh xem
- âœ… Resume tá»« vá»‹ trÃ­ Ä‘Ã£ xem

**Chat:**
- âœ… Gá»­i tin nháº¯n text
- âœ… Nháº­n tin nháº¯n real-time
- âœ… Typing indicator
- âœ… Online/Offline status
- âœ… Load history messages
- âœ… Pagination cho tin nháº¯n cÅ©

### 2.5.3. Performance Optimization

**Lighthouse Scores** (Desktop):
- Performance: **92/100** âœ…
- Accessibility: **88/100** âœ…
- Best Practices: **95/100** âœ…
- SEO: **90/100** âœ…

**Optimizations applied:**
1. **Image optimization**: Sharp Ä‘á»ƒ resize vÃ  compress
2. **Code splitting**: React.lazy() cho cÃ¡c routes
3. **Lazy loading**: Intersection Observer cho images
4. **Caching**: Redis cho API responses
5. **Minification**: Vite build tá»± Ä‘á»™ng minify
6. **Compression**: Gzip middleware á»Ÿ backend

---

## 2.6. Deployment vÃ  DevOps

### 2.6.1. Development Environment

**Local Setup:**
```bash
# Backend
cd backend
npm install
cp .env.example .env  # Configure environment variables
npm run dev           # Start on http://localhost:5000

# Frontend
cd frontend
npm install
cp .env.example .env  # Configure environment variables
npm run dev           # Start on http://localhost:5173
```

**Environment Variables:**
```env
# Backend (.env)
PORT=5000
NODE_ENV=development
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=
DB_NAME=sapphim_db
JWT_SECRET=your_secret_key
CLIENT_URL=http://localhost:5173
REDIS_URL=redis://localhost:6379
GEMINI_API_KEY=your_gemini_key

# Frontend (.env)
VITE_API_BASE_URL=http://localhost:5000
VITE_SOCKET_URL=http://localhost:5000
VITE_FIREBASE_API_KEY=your_firebase_key
```

### 2.6.2. Production Deployment (Example)

**Planned Architecture:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Clients    â”‚
â”‚ (Browsers)   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ HTTPS
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Nginx      â”‚ <- Reverse Proxy + SSL
â”‚  (Port 80)   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
   â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”
   â”‚        â”‚
   â–¼        â–¼
â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”
â”‚Reactâ”‚  â”‚ API â”‚ <- Node.js Express
â”‚ App â”‚  â”‚     â”‚    (PM2 cluster)
â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”¬â”€â”€â”˜
            â”‚
        â”Œâ”€â”€â”€â”´â”€â”€â”€â”
        â”‚       â”‚
        â–¼       â–¼
     â”Œâ”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”
     â”‚MySQL  â”‚Redisâ”‚
     â””â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜
```

**Deployment Steps:**
1. Build frontend: `npm run build` â†’ static files
2. Upload frontend files Ä‘áº¿n server (hoáº·c S3, Vercel)
3. Deploy backend vá»›i PM2: `pm2 start index.js -i max`
4. Configure Nginx reverse proxy
5. Setup SSL vá»›i Let's Encrypt
6. Database migrations
7. Redis cache warmup

### 2.6.3. Monitoring (Planned)

**Tools:**
- **PM2**: Process monitoring, auto-restart
- **Winston**: Application logs
- **MySQL slow query log**: Database performance
- **Redis Monitor**: Cache hit rate

---

## 2.7. Káº¿t quáº£ Ä‘áº¡t Ä‘Æ°á»£c

### 2.7.1. ThÃ nh tá»±u
|-----------|-----------|------------------|
| **React** | 19.1.1 | Core framework cho UI |
| **Vite** | 7.1.2 | Build tool vÃ  dev server |
| **Redux Toolkit** | 2.8.2 | State management toÃ n cá»¥c |
| **Zustand** | 5.0.8 | State management nháº¹ |
| **React Router** | 7.8.2 | Client-side routing |
| **Axios** | 1.11.0 | HTTP client |
| **Socket.IO Client** | 4.7.5 | Real-time communication |
| **React Query** | 5.89.0 | Data fetching & caching |
| **React Hook Form** | 7.62.0 | Form handling |
| **Yup** | 1.7.0 | Form validation |
| **SASS** | 1.91.0 | CSS preprocessing |
| **Chart.js** | 4.5.0 | Data visualization |
| **Swiper** | 11.2.10 | Slider/Carousel |
| **Firebase** | 12.2.1 | Authentication & storage |
| **DOMPurify** | 3.2.6 | XSS protection |

### 3.2. Backend Technologies

| CÃ´ng nghá»‡ | PhiÃªn báº£n | Má»¥c Ä‘Ã­ch sá»­ dá»¥ng |
|-----------|-----------|------------------|
| **Node.js** | Latest | Runtime environment |
| **Express** | 4.19.2 | Web framework |
| **Sequelize** | 6.37.3 | ORM cho MySQL |
| **MySQL2** | 3.9.7 | Database driver |
| **Redis/IORedis** | 5.8.0 | Caching & session |
| **Socket.IO** | 4.7.5 | Real-time server |
| **JWT** | 9.0.2 | Authentication |
| **Bcrypt** | 5.1.1 | Password hashing |
| **Multer** | 1.4.5 | File upload |
| **Sharp** | 0.34.4 | Image processing |
| **FFmpeg** | 1.1.0 | Video processing |
| **Google AI** | 0.24.1 | AI integration |
| **Winston** | 3.18.3 | Logging |
| **Helmet** | 7.1.0 | Security headers |
| **Express Rate Limit** | 8.1.0 | Rate limiting |
| **BullMQ** | 5.61.0 | Job queue |

### 3.3. Database
- **MySQL**: CÆ¡ sá»Ÿ dá»¯ liá»‡u quan há»‡ chÃ­nh
- **Redis**: Cache, session storage, vÃ  real-time data

---

## 4. CÃC TÃNH NÄ‚NG Cá»‘T LÃ•I

### 4.1. Há»‡ thá»‘ng XÃ¡c thá»±c vÃ  PhÃ¢n quyá»n (Authentication & Authorization)

#### 4.1.1. ÄÄƒng kÃ½/ÄÄƒng nháº­p
- **ÄÄƒng kÃ½ thÃ´ng thÆ°á»ng**: Email/Password vá»›i validation
- **ÄÄƒng nháº­p xÃ£ há»™i (Social Login)**:
  - Google Authentication
  - Facebook Authentication
  - Firebase Integration
- **Refresh Token**: Tá»± Ä‘á»™ng lÃ m má»›i token khi háº¿t háº¡n
- **Remember Me**: LÆ°u phiÃªn Ä‘Äƒng nháº­p

#### 4.1.2. Quáº£n lÃ½ phiÃªn (Session Management)
- LÆ°u lá»‹ch sá»­ Ä‘Äƒng nháº­p (Login History)
- Quáº£n lÃ½ nhiá»u thiáº¿t bá»‹ Ä‘Äƒng nháº­p
- Thu há»“i phiÃªn Ä‘Äƒng nháº­p (Revoke sessions)
- ÄÄƒng xuáº¥t khá»i táº¥t cáº£ thiáº¿t bá»‹

#### 4.1.3. PhÃ¢n quyá»n ngÆ°á»i dÃ¹ng (Role-Based Access Control)
```javascript
Roles:
â”œâ”€â”€ Admin
â”‚   â”œâ”€â”€ Quáº£n lÃ½ toÃ n bá»™ há»‡ thá»‘ng
â”‚   â”œâ”€â”€ CRUD phim, táº­p phim, thá»ƒ loáº¡i
â”‚   â”œâ”€â”€ Quáº£n lÃ½ ngÆ°á»i dÃ¹ng
â”‚   â”œâ”€â”€ Xem thá»‘ng kÃª vÃ  bÃ¡o cÃ¡o
â”‚   â””â”€â”€ Sá»­ dá»¥ng AI tools
â”œâ”€â”€ Editor
â”‚   â”œâ”€â”€ ThÃªm/sá»­a ná»™i dung phim
â”‚   â”œâ”€â”€ Quáº£n lÃ½ bÃ¬nh luáº­n
â”‚   â””â”€â”€ Gá»­i thÃ´ng bÃ¡o
â””â”€â”€ User (Default)
    â”œâ”€â”€ Xem phim
    â”œâ”€â”€ BÃ¬nh luáº­n, thÃ­ch
    â”œâ”€â”€ Káº¿t báº¡n, nháº¯n tin
    â””â”€â”€ Quáº£n lÃ½ há»“ sÆ¡ cÃ¡ nhÃ¢n
```

**CÃ i Ä‘áº·t báº£o máº­t**:
- Rate Limiting: Giá»›i háº¡n request Ä‘á»ƒ chá»‘ng brute-force
- JWT vá»›i short-lived access token (15 phÃºt)
- Refresh token vá»›i long-lived (7 ngÃ y)
- Bcrypt hashing cho máº­t kháº©u (10 rounds)

---

### 4.2. Quáº£n lÃ½ Phim (Movie Management)

#### 4.2.1. Cáº¥u trÃºc phim
```javascript
Movie Entity:
â”œâ”€â”€ ThÃ´ng tin cÆ¡ báº£n
â”‚   â”œâ”€â”€ TiÃªu Ä‘á» (Multi-language: default, vi, en, ja, ko, zh)
â”‚   â”œâ”€â”€ Slug (URL-friendly)
â”‚   â”œâ”€â”€ MÃ´ táº£
â”‚   â”œâ”€â”€ NÄƒm phÃ¡t hÃ nh
â”‚   â”œâ”€â”€ Thá»i lÆ°á»£ng
â”‚   â””â”€â”€ Loáº¡i (movie/series)
â”œâ”€â”€ Media
â”‚   â”œâ”€â”€ Poster URL
â”‚   â”œâ”€â”€ Backdrop URL
â”‚   â””â”€â”€ Trailer URL
â”œâ”€â”€ Metadata
â”‚   â”œâ”€â”€ Thá»ƒ loáº¡i (Genres) - Many-to-Many
â”‚   â”œâ”€â”€ Quá»‘c gia (Country)
â”‚   â”œâ”€â”€ Danh má»¥c (Category)
â”‚   â”œâ”€â”€ ÄÃ¡nh giÃ¡ (Rating)
â”‚   â””â”€â”€ LÆ°á»£t xem (Views)
â”œâ”€â”€ Episodes (cho phim bá»™)
â”‚   â”œâ”€â”€ Sá»‘ táº­p
â”‚   â”œâ”€â”€ Video URL
â”‚   â””â”€â”€ Phá»¥ Ä‘á» (Multi-language)
â””â”€â”€ Series (náº¿u thuá»™c series phim)
```

#### 4.2.2. Chá»©c nÄƒng Admin
- **CRUD Operations**: Create, Read, Update, Delete phim
- **Batch Upload**: Upload nhiá»u táº­p phim cÃ¹ng lÃºc
- **Image Processing**: Tá»± Ä‘á»™ng resize vÃ  optimize áº£nh poster/backdrop
- **Video Processing**: FFmpeg Ä‘á»ƒ xá»­ lÃ½ video metadata
- **Multi-language Support**: Quáº£n lÃ½ tiÃªu Ä‘á» vÃ  phá»¥ Ä‘á» Ä‘a ngÃ´n ngá»¯
- **SEO Optimization**: Tá»± Ä‘á»™ng táº¡o slug, meta description

#### 4.2.3. API Endpoints
```javascript
GET    /api/movies              // Láº¥y danh sÃ¡ch phim (cÃ³ filter, pagination)
GET    /api/movies/search       // TÃ¬m kiáº¿m phim
GET    /api/movies/all          // Láº¥y táº¥t cáº£ phim (khÃ´ng phÃ¢n trang)
GET    /api/movie/detail/:slug  // Chi tiáº¿t phim theo slug
GET    /api/movie/watch/:slug/episode/:episodeNumber // Xem phim
GET    /api/movies/:id/episodes // Danh sÃ¡ch táº­p phim
GET    /api/movies/:id/similar  // Phim tÆ°Æ¡ng tá»±
POST   /api/movies              // Táº¡o phim má»›i (Admin)
PUT    /api/movies/:id          // Cáº­p nháº­t phim (Admin)
DELETE /api/movies/:id          // XÃ³a phim (Admin)
```

---

### 4.3. Há»‡ thá»‘ng Xem phim (Streaming System)

#### 4.3.1. Video Player
- **Custom Video Player**: TÃ­ch há»£p HTML5 Video API
- **Playback Controls**:
  - Play/Pause
  - Seek/Skip
  - Volume control
  - Speed control (0.5x - 2x)
  - Fullscreen mode
  - Picture-in-Picture (PiP)
- **Cháº¿ Ä‘á»™ ráº¡p (Cinema Mode)**: áº¨n pháº§n tá»­ xung quanh Ä‘á»ƒ focus vÃ o video
- **Auto-play táº­p tiáº¿p theo**: Tá»± Ä‘á»™ng chuyá»ƒn táº­p sau khi káº¿t thÃºc

#### 4.3.2. Watch History (Lá»‹ch sá»­ xem)
```javascript
Features:
â”œâ”€â”€ Tá»± Ä‘á»™ng lÆ°u tiáº¿n trÃ¬nh xem
â”‚   â”œâ”€â”€ Thá»i Ä‘iá»ƒm dá»«ng (currentTime)
â”‚   â”œâ”€â”€ Tá»•ng thá»i lÆ°á»£ng (duration)
â”‚   â””â”€â”€ Pháº§n trÄƒm hoÃ n thÃ nh
â”œâ”€â”€ Resume watching
â”‚   â””â”€â”€ Tiáº¿p tá»¥c tá»« vá»‹ trÃ­ Ä‘Ã£ dá»«ng
â”œâ”€â”€ Watch history page
â”‚   â”œâ”€â”€ Danh sÃ¡ch phim Ä‘Ã£ xem
â”‚   â”œâ”€â”€ Filter theo ngÃ y
â”‚   â””â”€â”€ XÃ³a lá»‹ch sá»­
â””â”€â”€ Continue watching section
    â””â”€â”€ Hiá»ƒn thá»‹ trÃªn homepage
```

#### 4.3.3. Subtitle System
- Há»— trá»£ Ä‘a ngÃ´n ngá»¯ (Vietnamese, English, Japanese, Korean, Chinese)
- Format: VTT (WebVTT)
- TÃ¹y chá»‰nh phá»¥ Ä‘á» (font size, color)
- Chuyá»ƒn Ä‘á»•i ngÃ´n ngá»¯ real-time

---

### 4.4. TÆ°Æ¡ng tÃ¡c xÃ£ há»™i (Social Features)

#### 4.4.1. Há»‡ thá»‘ng Káº¿t báº¡n (Friend System)
```javascript
Friendship States:
â”œâ”€â”€ Gá»­i lá»i má»i káº¿t báº¡n (Send request)
â”œâ”€â”€ Cháº¥p nháº­n/Tá»« chá»‘i (Accept/Reject)
â”œâ”€â”€ Danh sÃ¡ch báº¡n bÃ¨ (Friends list)
â”œâ”€â”€ Lá»i má»i Ä‘Ã£ gá»­i (Sent requests)
â”œâ”€â”€ Lá»i má»i nháº­n Ä‘Æ°á»£c (Pending requests)
â”œâ”€â”€ Há»§y káº¿t báº¡n (Unfriend)
â””â”€â”€ Cháº·n ngÆ°á»i dÃ¹ng (Block user)
```

**API Endpoints**:
```javascript
POST   /api/friends/send              // Gá»­i lá»i má»i
POST   /api/friends/accept            // Cháº¥p nháº­n
POST   /api/friends/reject            // Tá»« chá»‘i
DELETE /api/friends/remove/:friendId  // Há»§y káº¿t báº¡n
GET    /api/friends                   // Danh sÃ¡ch báº¡n bÃ¨
GET    /api/friends/pending           // Lá»i má»i chá» duyá»‡t
GET    /api/friends/sent              // Lá»i má»i Ä‘Ã£ gá»­i
```

#### 4.4.2. Há»‡ thá»‘ng Nháº¯n tin (Messaging System)
**Realtime Chat vá»›i Socket.IO**:
```javascript
Features:
â”œâ”€â”€ Chat 1-1 (Private conversation)
â”‚   â”œâ”€â”€ Gá»­i/nháº­n tin nháº¯n real-time
â”‚   â”œâ”€â”€ Emoji picker
â”‚   â”œâ”€â”€ Gá»­i áº£nh/file
â”‚   â””â”€â”€ Seen/Delivered status
â”œâ”€â”€ Chat nhÃ³m (Group conversation)
â”‚   â”œâ”€â”€ Táº¡o nhÃ³m chat
â”‚   â”œâ”€â”€ ThÃªm/xÃ³a thÃ nh viÃªn
â”‚   â””â”€â”€ Äáº·t tÃªn nhÃ³m
â”œâ”€â”€ Conversation Management
â”‚   â”œâ”€â”€ Ghim há»™i thoáº¡i (Pin)
â”‚   â”œâ”€â”€ áº¨n há»™i thoáº¡i (Hide)
â”‚   â”œâ”€â”€ KhÃ³a há»™i thoáº¡i (Lock)
â”‚   â””â”€â”€ Cháº·n ngÆ°á»i dÃ¹ng (Block)
â””â”€â”€ Advanced Features
    â”œâ”€â”€ TÃ¬m kiáº¿m tin nháº¯n
    â”œâ”€â”€ XÃ³a tin nháº¯n
    â”œâ”€â”€ Typing indicator
    â””â”€â”€ Online status
```

**Socket Events**:
```javascript
// Client -> Server
socket.emit('join-conversation', conversationId)
socket.emit('send-message', messageData)
socket.emit('typing', { conversationId, isTyping })

// Server -> Client
socket.on('new-message', messageData)
socket.on('user-typing', userData)
socket.on('message-seen', messageId)
socket.on('user-online', userId)
socket.on('user-offline', userId)
```

#### 4.4.3. Há»‡ thá»‘ng BÃ¬nh luáº­n (Comment System)
```javascript
Comment Features:
â”œâ”€â”€ Nested Comments (Max depth: 3 levels)
â”‚   â”œâ”€â”€ Root comment
â”‚   â”œâ”€â”€ â””â”€â”€ Reply level 1
â”‚   â”‚       â””â”€â”€ Reply level 2
â”‚   â””â”€â”€ Enforce depth middleware
â”œâ”€â”€ Comment Actions
â”‚   â”œâ”€â”€ Táº¡o bÃ¬nh luáº­n
â”‚   â”œâ”€â”€ Chá»‰nh sá»­a (trong 5 phÃºt)
â”‚   â”œâ”€â”€ XÃ³a bÃ¬nh luáº­n
â”‚   â”œâ”€â”€ Like/Unlike
â”‚   â””â”€â”€ Report spam/abuse
â”œâ”€â”€ Comment Moderation (Admin)
â”‚   â”œâ”€â”€ Duyá»‡t bÃ¬nh luáº­n (Approve)
â”‚   â”œâ”€â”€ áº¨n bÃ¬nh luáº­n (Hide)
â”‚   â”œâ”€â”€ Ghim bÃ¬nh luáº­n (Pin)
â”‚   â”œâ”€â”€ Xem bÃ¡o cÃ¡o (Reported)
â”‚   â””â”€â”€ AI phÃ¢n loáº¡i ná»™i dung
â””â”€â”€ Display Features
    â”œâ”€â”€ PhÃ¢n trang replies
    â”œâ”€â”€ Load more replies
    â”œâ”€â”€ Sort by: newest, oldest, most liked
    â””â”€â”€ Highlight author/admin
```

**API Endpoints**:
```javascript
GET    /api/comments/:contentType/:contentId  // Láº¥y bÃ¬nh luáº­n
GET    /api/comments/:parentId/replies        // Láº¥y replies
POST   /api/comments                          // Táº¡o bÃ¬nh luáº­n
PUT    /api/comments/:id                      // Sá»­a bÃ¬nh luáº­n
DELETE /api/comments/:id                      // XÃ³a bÃ¬nh luáº­n
POST   /api/comments/:id/like                 // Like bÃ¬nh luáº­n
POST   /api/comments/:id/report               // BÃ¡o cÃ¡o
```

#### 4.4.4. ThÃ´ng bÃ¡o (Notification System)
```javascript
Notification Types:
â”œâ”€â”€ System Notifications
â”‚   â”œâ”€â”€ ThÃ´ng bÃ¡o tá»« admin
â”‚   â””â”€â”€ Cáº­p nháº­t há»‡ thá»‘ng
â”œâ”€â”€ Social Notifications
â”‚   â”œâ”€â”€ Lá»i má»i káº¿t báº¡n
â”‚   â”œâ”€â”€ Cháº¥p nháº­n káº¿t báº¡n
â”‚   â”œâ”€â”€ Tin nháº¯n má»›i
â”‚   â”œâ”€â”€ Like bÃ¬nh luáº­n
â”‚   â””â”€â”€ Reply bÃ¬nh luáº­n
â””â”€â”€ Content Notifications
    â”œâ”€â”€ Phim má»›i cáº­p nháº­t
    â”œâ”€â”€ Táº­p phim má»›i
    â””â”€â”€ Phim Ä‘Æ°á»£c Ä‘á» xuáº¥t
```

**Real-time Push**:
- Socket.IO cho thÃ´ng bÃ¡o real-time
- Badge counter cho sá»‘ thÃ´ng bÃ¡o chÆ°a Ä‘á»c
- Toast notifications
- Email notifications (optional)

---

### 4.5. Há»‡ thá»‘ng AI (AI Integration)

#### 4.5.1. Google Generative AI (Gemini)
TÃ­ch há»£p **Google Gemini AI** Ä‘á»ƒ cung cáº¥p cÃ¡c tÃ­nh nÄƒng thÃ´ng minh:

**Cho ngÆ°á»i dÃ¹ng**:
```javascript
AI User Features:
â”œâ”€â”€ Chatbot há»— trá»£
â”‚   â”œâ”€â”€ TÆ° váº¥n phim
â”‚   â”œâ”€â”€ Giáº£i Ä‘Ã¡p tháº¯c máº¯c
â”‚   â””â”€â”€ Context-aware conversation
â”œâ”€â”€ Gá»£i Ã½ phim thÃ´ng minh
â”‚   â”œâ”€â”€ Dá»±a trÃªn lá»‹ch sá»­ xem
â”‚   â”œâ”€â”€ Dá»±a trÃªn yÃªu thÃ­ch
â”‚   â”œâ”€â”€ Dá»±a trÃªn báº¡n bÃ¨
â”‚   â””â”€â”€ PhÃ¢n tÃ­ch hÃ nh vi
â””â”€â”€ Dá»‹ch thuáº­t
    â””â”€â”€ Dá»‹ch mÃ´ táº£ phim
```

**Cho Admin**:
```javascript
AI Admin Tools:
â”œâ”€â”€ Content Generation
â”‚   â”œâ”€â”€ Tá»± Ä‘á»™ng viáº¿t mÃ´ táº£ phim
â”‚   â”œâ”€â”€ Táº¡o ná»™i dung marketing
â”‚   â”œâ”€â”€ Generate SEO content
â”‚   â””â”€â”€ Táº¡o tags/keywords
â”œâ”€â”€ Content Moderation
â”‚   â”œâ”€â”€ PhÃ¢n loáº¡i bÃ¬nh luáº­n (toxic/spam)
â”‚   â”œâ”€â”€ Äá» xuáº¥t xá»­ lÃ½ vi pháº¡m
â”‚   â””â”€â”€ Auto-hide inappropriate content
â”œâ”€â”€ Data Analysis
â”‚   â”œâ”€â”€ PhÃ¢n tÃ­ch xu hÆ°á»›ng
â”‚   â”œâ”€â”€ Dá»± Ä‘oÃ¡n phim hot
â”‚   â””â”€â”€ User behavior insights
â””â”€â”€ Translation
    â””â”€â”€ Dá»‹ch mÃ´ táº£ sang Ä‘a ngÃ´n ngá»¯
```

#### 4.5.2. AI Context System
```javascript
// LÆ°u trá»¯ ngá»¯ cáº£nh há»™i thoáº¡i
AIContext Model:
â”œâ”€â”€ userId
â”œâ”€â”€ conversationId
â”œâ”€â”€ contextData (JSON)
â”‚   â”œâ”€â”€ Lá»‹ch sá»­ chat
â”‚   â”œâ”€â”€ Sá»Ÿ thÃ­ch phim
â”‚   â”œâ”€â”€ Lá»‹ch sá»­ xem
â”‚   â””â”€â”€ TÆ°Æ¡ng tÃ¡c trÆ°á»›c
â””â”€â”€ timestamps
```

#### 4.5.3. Intent Recognition
```javascript
AI Intent Utils:
â”œâ”€â”€ Nháº­n diá»‡n Ã½ Ä‘á»‹nh ngÆ°á»i dÃ¹ng
â”‚   â”œâ”€â”€ Search movie
â”‚   â”œâ”€â”€ Get recommendations
â”‚   â”œâ”€â”€ Movie details
â”‚   â”œâ”€â”€ General chat
â”‚   â””â”€â”€ Help request
â”œâ”€â”€ Xá»­ lÃ½ query
â”‚   â”œâ”€â”€ Extract entities (title, genre, year)
â”‚   â”œâ”€â”€ Parse natural language
â”‚   â””â”€â”€ Context understanding
â””â”€â”€ Response generation
    â”œâ”€â”€ Format movie data
    â”œâ”€â”€ Create conversational response
    â””â”€â”€ Suggest follow-up actions
```

**API Endpoints**:
```javascript
POST /api/ai/query                    // Chat vá»›i AI
POST /api/ai/recommend                // Gá»£i Ã½ phim
POST /api/ai/translate                // Dá»‹ch vÄƒn báº£n
POST /api/ai/admin/suggest            // AI gá»£i Ã½ data phim (Admin)
POST /api/ai/admin/marketing          // Táº¡o ná»™i dung marketing (Admin)
POST /api/ai/admin/seo                // Táº¡o SEO content (Admin)
POST /api/ai/admin/classify-comment   // PhÃ¢n loáº¡i bÃ¬nh luáº­n (Admin)
GET  /api/ai/admin/analytics          // Thá»‘ng kÃª AI usage (Admin)
```

---

### 4.6. Quáº£n lÃ½ NgÆ°á»i dÃ¹ng (User Management)

#### 4.6.1. Há»“ sÆ¡ ngÆ°á»i dÃ¹ng (User Profile)
```javascript
User Profile:
â”œâ”€â”€ ThÃ´ng tin cÆ¡ báº£n
â”‚   â”œâ”€â”€ UUID (unique identifier)
â”‚   â”œâ”€â”€ Username
â”‚   â”œâ”€â”€ Email
â”‚   â”œâ”€â”€ Avatar
â”‚   â”œâ”€â”€ Cover photo
â”‚   â””â”€â”€ Bio
â”œâ”€â”€ ThÃ´ng tin má»Ÿ rá»™ng
â”‚   â”œâ”€â”€ NgÃ y sinh
â”‚   â”œâ”€â”€ Giá»›i tÃ­nh
â”‚   â”œâ”€â”€ Quá»‘c gia
â”‚   â””â”€â”€ Social links (Facebook, Twitter, Instagram)
â”œâ”€â”€ Thá»‘ng kÃª
â”‚   â”œâ”€â”€ Sá»‘ phim Ä‘Ã£ xem
â”‚   â”œâ”€â”€ Sá»‘ bÃ¬nh luáº­n
â”‚   â”œâ”€â”€ Sá»‘ báº¡n bÃ¨
â”‚   â””â”€â”€ NgÃ y tham gia
â””â”€â”€ Privacy Settings
    â”œâ”€â”€ Hiá»ƒn thá»‹ email
    â”œâ”€â”€ Hiá»ƒn thá»‹ lá»‹ch sá»­ xem
    â”œâ”€â”€ Hiá»ƒn thá»‹ danh sÃ¡ch báº¡n bÃ¨
    â””â”€â”€ Ai cÃ³ thá»ƒ gá»­i lá»i má»i káº¿t báº¡n
```

#### 4.6.2. CÃ i Ä‘áº·t tÃ i khoáº£n
```javascript
Account Settings:
â”œâ”€â”€ Privacy Settings
â”‚   â”œâ”€â”€ Profile visibility
â”‚   â”œâ”€â”€ Watch history visibility
â”‚   â”œâ”€â”€ Friend list visibility
â”‚   â””â”€â”€ Who can send friend requests
â”œâ”€â”€ Notification Settings
â”‚   â”œâ”€â”€ Email notifications
â”‚   â”œâ”€â”€ Push notifications
â”‚   â”œâ”€â”€ Friend requests
â”‚   â”œâ”€â”€ New messages
â”‚   â””â”€â”€ Comment replies
â”œâ”€â”€ Security
â”‚   â”œâ”€â”€ Change password
â”‚   â”œâ”€â”€ Two-factor authentication (2FA)
â”‚   â”œâ”€â”€ Login history
â”‚   â”œâ”€â”€ Active sessions
â”‚   â””â”€â”€ Revoke sessions
â””â”€â”€ Data Management
    â”œâ”€â”€ Download user data
    â”œâ”€â”€ Export watch history
    â””â”€â”€ Delete account
```

**API Endpoints**:
```javascript
GET    /api/users/me                    // Há»“ sÆ¡ cá»§a tÃ´i
PUT    /api/users/me                    // Cáº­p nháº­t há»“ sÆ¡
POST   /api/users/me/avatar             // Upload avatar
DELETE /api/users/me/avatar             // XÃ³a avatar
POST   /api/users/me/cover              // Upload cover
GET    /api/users/search                // TÃ¬m ngÆ°á»i dÃ¹ng
GET    /api/users/:uuid                 // Há»“ sÆ¡ theo UUID
GET    /api/users/:uuid/favorites       // Phim yÃªu thÃ­ch
GET    /api/users/:uuid/watch-history   // Lá»‹ch sá»­ xem
GET    /api/users/:uuid/friends         // Danh sÃ¡ch báº¡n bÃ¨
```

---

### 4.7. YÃªu thÃ­ch vÃ  ÄÃ¡nh giÃ¡ (Favorites & Ratings)

#### 4.7.1. Danh sÃ¡ch yÃªu thÃ­ch
```javascript
Favorite Features:
â”œâ”€â”€ ThÃªm/XÃ³a khá»i yÃªu thÃ­ch
â”œâ”€â”€ Danh sÃ¡ch phim yÃªu thÃ­ch
â”œâ”€â”€ Filter theo thá»ƒ loáº¡i
â”œâ”€â”€ Sort theo ngÃ y thÃªm
â””â”€â”€ Public/Private favorites
```

#### 4.7.2. ÄÃ¡nh giÃ¡ phim
```javascript
Rating System:
â”œâ”€â”€ Rating 1-5 sao
â”œâ”€â”€ TÃ­nh trung bÃ¬nh rating
â”œâ”€â”€ Sá»‘ lÆ°á»£ng Ä‘Ã¡nh giÃ¡
â””â”€â”€ User cÃ³ thá»ƒ sá»­a rating cá»§a mÃ¬nh
```

**API Endpoints**:
```javascript
POST   /api/favorites            // ThÃªm vÃ o yÃªu thÃ­ch
DELETE /api/favorites/:movieId   // XÃ³a khá»i yÃªu thÃ­ch
GET    /api/favorites            // Danh sÃ¡ch yÃªu thÃ­ch
GET    /api/movies/:id/rating    // Láº¥y rating phim
POST   /api/movies/:id/rate      // ÄÃ¡nh giÃ¡ phim
```

---

### 4.8. Dashboard Admin

#### 4.8.1. Thá»‘ng kÃª tá»•ng quan
```javascript
Dashboard Metrics:
â”œâ”€â”€ Tá»•ng quan
â”‚   â”œâ”€â”€ Tá»•ng sá»‘ ngÆ°á»i dÃ¹ng
â”‚   â”œâ”€â”€ Tá»•ng sá»‘ phim
â”‚   â”œâ”€â”€ Tá»•ng sá»‘ lÆ°á»£t xem
â”‚   â””â”€â”€ Tá»•ng sá»‘ bÃ¬nh luáº­n
â”œâ”€â”€ Biá»ƒu Ä‘á»“
â”‚   â”œâ”€â”€ LÆ°á»£t xem theo ngÃ y/tuáº§n/thÃ¡ng
â”‚   â”œâ”€â”€ NgÆ°á»i dÃ¹ng má»›i
â”‚   â”œâ”€â”€ Phim phá»• biáº¿n
â”‚   â””â”€â”€ Thá»ƒ loáº¡i Ä‘Æ°á»£c xem nhiá»u nháº¥t
â”œâ”€â”€ Top Lists
â”‚   â”œâ”€â”€ Top 10 phim Ä‘Æ°á»£c xem nhiá»u
â”‚   â”œâ”€â”€ Top 10 phim Ä‘Æ°á»£c yÃªu thÃ­ch
â”‚   â”œâ”€â”€ Top 10 ngÆ°á»i dÃ¹ng active
â”‚   â””â”€â”€ BÃ¬nh luáº­n gáº§n Ä‘Ã¢y
â””â”€â”€ System Health
    â”œâ”€â”€ Server status
    â”œâ”€â”€ Database performance
    â”œâ”€â”€ Storage usage
    â””â”€â”€ Error logs
```

#### 4.8.2. Quáº£n lÃ½ ná»™i dung
```javascript
Content Management:
â”œâ”€â”€ Movies
â”‚   â”œâ”€â”€ CRUD operations
â”‚   â”œâ”€â”€ Bulk actions
â”‚   â””â”€â”€ Import/Export
â”œâ”€â”€ Episodes
â”‚   â”œâ”€â”€ Upload video
â”‚   â”œâ”€â”€ Process metadata
â”‚   â””â”€â”€ Manage subtitles
â”œâ”€â”€ Categories & Genres
â”‚   â”œâ”€â”€ CRUD operations
â”‚   â””â”€â”€ Reorder
â””â”€â”€ Sections (Homepage layout)
    â”œâ”€â”€ Featured movies
    â”œâ”€â”€ Trending
    â””â”€â”€ Custom sections
```

---

## 5. CÆ  Sá» Dá»® LIá»†U

### 5.1. Entity Relationship Diagram (ERD)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    User     â”‚â—„â”€â”€â”€â”€â”€â–ºâ”‚    Role      â”‚       â”‚  RefreshTokenâ”‚
â”‚             â”‚  n:n  â”‚              â”‚       â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                              â–²
       â”‚ 1:n                                          â”‚
       â–¼                                              â”‚ 1:n
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚ Friendship  â”‚       â”‚ LoginHistory â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

       â”‚ 1:n                    1:n â”‚
       â–¼                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WatchHistoryâ”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   Movie     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      1:n       â”‚             â”‚
                                â”‚             â”‚
       â”‚ 1:n                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â–¼                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚ n:n (Genres)
â”‚  Favorite   â”‚                       â”‚ 1:n (Country, Category)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚ 1:n (Episodes)
                                      â”‚ 1:1 (Section)
       â”‚ 1:n                          â”‚
       â–¼                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚   Comment   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ (nested)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Conversation   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚    Message       â”‚
â”‚                 â”‚   1:n    â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ n:n (via ConversationParticipant)
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      User       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Notification   â”‚
â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–²
         â”‚ 1:n
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      User       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2. CÃ¡c báº£ng chÃ­nh

#### Users Table
```sql
CREATE TABLE users (
  id INT PRIMARY KEY AUTO_INCREMENT,
  uuid VARCHAR(36) UNIQUE NOT NULL,
  username VARCHAR(50) UNIQUE NOT NULL,
  email VARCHAR(100) UNIQUE NOT NULL,
  password VARCHAR(255),
  avatarUrl VARCHAR(255),
  coverUrl VARCHAR(255),
  bio TEXT,
  birthDate DATE,
  gender ENUM('male', 'female', 'other'),
  socialLinks JSON,
  isActive BOOLEAN DEFAULT TRUE,
  emailVerified BOOLEAN DEFAULT FALSE,
  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
```

#### Movies Table
```sql
CREATE TABLE movies (
  id INT PRIMARY KEY AUTO_INCREMENT,
  slug VARCHAR(255) UNIQUE NOT NULL,
  titles JSON NOT NULL, -- Multi-language titles
  description TEXT,
  posterUrl VARCHAR(255),
  backdropUrl VARCHAR(255),
  trailerUrl VARCHAR(255),
  year INT,
  duration INT, -- in minutes
  type ENUM('movie', 'series') NOT NULL,
  rating DECIMAL(3,2),
  views INT DEFAULT 0,
  status ENUM('draft', 'published', 'archived') DEFAULT 'draft',
  countryId INT,
  categoryId INT,
  seriesId INT,
  createdAt TIMESTAMP,
  updatedAt TIMESTAMP,
  FOREIGN KEY (countryId) REFERENCES countries(id),
  FOREIGN KEY (categoryId) REFERENCES categories(id),
  FOREIGN KEY (seriesId) REFERENCES series(id)
);
```

#### Episodes Table
```sql
CREATE TABLE episodes (
  id INT PRIMARY KEY AUTO_INCREMENT,
  movieId INT NOT NULL,
  episodeNumber INT NOT NULL,
  title VARCHAR(255),
  videoUrl VARCHAR(255) NOT NULL,
  subtitles JSON, -- Multi-language subtitles
  duration INT,
  views INT DEFAULT 0,
  createdAt TIMESTAMP,
  updatedAt TIMESTAMP,
  FOREIGN KEY (movieId) REFERENCES movies(id) ON DELETE CASCADE,
  UNIQUE KEY (movieId, episodeNumber)
);
```

#### Comments Table
```sql
CREATE TABLE comments (
  id INT PRIMARY KEY AUTO_INCREMENT,
  userId INT NOT NULL,
  content TEXT NOT NULL,
  contentType ENUM('movie', 'episode') NOT NULL,
  contentId INT NOT NULL,
  parentId INT, -- For nested comments
  depth INT DEFAULT 0,
  likeCount INT DEFAULT 0,
  isHidden BOOLEAN DEFAULT FALSE,
  isPinned BOOLEAN DEFAULT FALSE,
  isApproved BOOLEAN DEFAULT TRUE,
  createdAt TIMESTAMP,
  updatedAt TIMESTAMP,
  FOREIGN KEY (userId) REFERENCES users(id) ON DELETE CASCADE,
  FOREIGN KEY (parentId) REFERENCES comments(id) ON DELETE CASCADE
);
```

#### Conversations & Messages Tables
```sql
CREATE TABLE conversations (
  id INT PRIMARY KEY AUTO_INCREMENT,
  type ENUM('private', 'group') NOT NULL,
  name VARCHAR(255), -- For group chats
  createdAt TIMESTAMP
);

CREATE TABLE conversation_participants (
  id INT PRIMARY KEY AUTO_INCREMENT,
  conversationId INT NOT NULL,
  userId INT NOT NULL,
  isPinned BOOLEAN DEFAULT FALSE,
  isLocked BOOLEAN DEFAULT FALSE,
  isHidden BOOLEAN DEFAULT FALSE,
  isBlocked BOOLEAN DEFAULT FALSE,
  joinedAt TIMESTAMP,
  FOREIGN KEY (conversationId) REFERENCES conversations(id) ON DELETE CASCADE,
  FOREIGN KEY (userId) REFERENCES users(id) ON DELETE CASCADE
);

CREATE TABLE messages (
  id INT PRIMARY KEY AUTO_INCREMENT,
  conversationId INT NOT NULL,
  senderId INT NOT NULL,
  content TEXT NOT NULL,
  type ENUM('text', 'image', 'file') DEFAULT 'text',
  isDeleted BOOLEAN DEFAULT FALSE,
  createdAt TIMESTAMP,
  FOREIGN KEY (conversationId) REFERENCES conversations(id) ON DELETE CASCADE,
  FOREIGN KEY (senderId) REFERENCES users(id) ON DELETE CASCADE
);
```

### 5.3. Indexes vÃ  Optimization
```sql
-- Indexes for performance
CREATE INDEX idx_movies_slug ON movies(slug);
CREATE INDEX idx_movies_views ON movies(views);
CREATE INDEX idx_movies_rating ON movies(rating);
CREATE INDEX idx_episodes_movie_id ON episodes(movieId);
CREATE INDEX idx_comments_content ON comments(contentType, contentId);
CREATE INDEX idx_comments_parent ON comments(parentId);
CREATE INDEX idx_watch_history_user ON watch_histories(userId);
CREATE INDEX idx_messages_conversation ON messages(conversationId);
CREATE INDEX idx_notifications_user ON notifications(userId, isRead);

-- Full-text search
CREATE FULLTEXT INDEX idx_movies_search ON movies(titles, description);
```

---

## 6. TÃNH NÄ‚NG Ná»”I Báº¬T

### 6.1. Real-time Communication
- **Socket.IO** cho chat vÃ  notifications real-time
- Typing indicator
- Online/Offline status
- Seen/Delivered message status
- Push notifications

### 6.2. AI-Powered Features
- Chatbot thÃ´ng minh vá»›i context awareness
- Gá»£i Ã½ phim dá»±a trÃªn machine learning
- Content moderation tá»± Ä‘á»™ng
- SEO vÃ  marketing content generation

### 6.3. Advanced Video Player
- Multi-quality streaming (360p, 480p, 720p, 1080p)
- Adaptive bitrate streaming
- Subtitle support vá»›i multi-language
- Resume tá»« vá»‹ trÃ­ Ä‘Ã£ xem
- Picture-in-Picture mode
- Cinema mode

### 6.4. Social Integration
- Káº¿t báº¡n vÃ  quáº£n lÃ½ má»‘i quan há»‡
- Chat 1-1 vÃ  nhÃ³m
- Chia sáº» phim vá»›i báº¡n bÃ¨
- Xem hoáº¡t Ä‘á»™ng cá»§a báº¡n bÃ¨
- Privacy controls

### 6.5. Content Management
- Rich text editor cho mÃ´ táº£
- Drag & drop file upload
- Bulk operations
- Multi-language support
- SEO-friendly URLs

### 6.6. Performance Optimization
- **Redis caching**: Cache movie data, user sessions
- **Lazy loading**: Load images vÃ  components on-demand
- **Code splitting**: TÃ¡ch code thÃ nh chunks nhá»
- **Image optimization**: Sharp Ä‘á»ƒ resize vÃ  compress
- **Database indexing**: Optimize queries
- **CDN integration**: Serve static assets

---

## 7. Báº¢O Máº¬T VÃ€ HIá»†U NÄ‚NG

### 7.1. Báº£o máº­t

#### 7.1.1. Authentication Security
- JWT vá»›i short-lived tokens (15 phÃºt)
- Refresh token rotation
- Secure HTTP-only cookies
- Password hashing vá»›i Bcrypt (10 rounds)
- Email verification
- Two-factor authentication (2FA) - Planned

#### 7.1.2. API Security
```javascript
Security Measures:
â”œâ”€â”€ Rate Limiting
â”‚   â”œâ”€â”€ Login: 5 requests/15 minutes
â”‚   â”œâ”€â”€ Registration: 3 requests/hour
â”‚   â””â”€â”€ API: 100 requests/15 minutes
â”œâ”€â”€ CORS Configuration
â”‚   â””â”€â”€ Whitelist allowed origins
â”œâ”€â”€ Helmet.js
â”‚   â”œâ”€â”€ XSS Protection
â”‚   â”œâ”€â”€ Content Security Policy
â”‚   â”œâ”€â”€ HSTS
â”‚   â””â”€â”€ Frame Options
â”œâ”€â”€ Input Validation
â”‚   â”œâ”€â”€ Express Validator
â”‚   â”œâ”€â”€ Sanitize user input
â”‚   â””â”€â”€ SQL Injection prevention (ORM)
â””â”€â”€ XSS Protection
    â””â”€â”€ DOMPurify Ä‘á»ƒ sanitize HTML
```

#### 7.1.3. Data Protection
- HTTPS/SSL encryption
- Encrypted password storage
- Secure session management
- SQL Injection prevention (Sequelize ORM)
- CSRF token protection
- File upload validation

### 7.2. Hiá»‡u nÄƒng

#### 7.2.1. Caching Strategy
```javascript
Redis Caching:
â”œâ”€â”€ Session cache
â”‚   â””â”€â”€ TTL: 7 days
â”œâ”€â”€ Movie data cache
â”‚   â””â”€â”€ TTL: 1 hour
â”œâ”€â”€ User profile cache
â”‚   â””â”€â”€ TTL: 30 minutes
â””â”€â”€ API response cache
    â””â”€â”€ TTL: 5 minutes
```

#### 7.2.2. Database Optimization
- Indexes trÃªn cÃ¡c cá»™t thÆ°á»ng query
- Query optimization vá»›i Sequelize
- Connection pooling
- Pagination cho large datasets
- Lazy loading relationships

#### 7.2.3. Frontend Optimization
- Code splitting vá»›i React lazy
- Image lazy loading
- Memoization vá»›i React.memo
- Virtual scrolling cho long lists
- Service Worker cho offline support
- Compression middleware (gzip)

#### 7.2.4. Monitoring & Logging
```javascript
Logging System (Winston):
â”œâ”€â”€ Error logs
â”‚   â””â”€â”€ Stored in logs/error.log
â”œâ”€â”€ Combined logs
â”‚   â””â”€â”€ Stored in logs/all.log
â”œâ”€â”€ Console logs (development)
â””â”€â”€ Log rotation
```

---

## 8. Káº¾ HOáº CH PHÃT TRIá»‚N

### 8.1. HoÃ n thÃ nh (âœ…)

#### Core Features
- âœ… Authentication (Email/Password, Social Login)
- âœ… Movie management (CRUD)
- âœ… Video streaming vá»›i player
- âœ… Comment system (nested comments)
- âœ… Friend system
- âœ… Real-time chat (1-1 vÃ  group)
- âœ… Notifications system
- âœ… Watch history
- âœ… Favorites
- âœ… User profile management
- âœ… AI chatbot integration
- âœ… AI recommendations
- âœ… Admin dashboard
- âœ… Privacy settings
- âœ… Multi-language support

### 8.2. Äang phÃ¡t triá»ƒn (ğŸš§)

- ğŸš§ **Reels Module**: Short video feature (TikTok-like)
  - Swipe interface
  - Record & upload short videos
  - Reactions vÃ  comments
- ğŸš§ **Mobile App**: React Native version
- ğŸš§ **Advanced Analytics**: User behavior analysis
- ğŸš§ **Payment Integration**: Premium subscription

### 8.3. Káº¿ hoáº¡ch tÆ°Æ¡ng lai (ğŸ“‹)

#### Phase 1 - Q4 2025
- ğŸ“‹ Two-Factor Authentication (2FA)
- ğŸ“‹ Email notifications
- ğŸ“‹ Advanced search filters
- ğŸ“‹ Watch party (xem cÃ¹ng báº¡n bÃ¨)
- ğŸ“‹ Subtitle editor

#### Phase 2 - Q1 2026
- ğŸ“‹ Live streaming support
- ğŸ“‹ Premium subscription tiers
- ğŸ“‹ Ad-supported free tier
- ğŸ“‹ Download for offline viewing
- ğŸ“‹ Multi-device sync

#### Phase 3 - Q2 2026
- ğŸ“‹ Content recommendation algorithm v2
- ğŸ“‹ Social feed (like Facebook)
- ğŸ“‹ Community forums
- ğŸ“‹ User-generated content
- ğŸ“‹ Mobile apps (iOS/Android)

#### Phase 4 - Q3 2026
- ğŸ“‹ International expansion
- ğŸ“‹ Multi-CDN support
- ğŸ“‹ Advanced analytics dashboard
- ğŸ“‹ Parental controls
- ğŸ“‹ Accessibility improvements (WCAG)

### 8.4. Technical Improvements
- ğŸ“‹ Microservices architecture
- ğŸ“‹ GraphQL API
- ğŸ“‹ Kubernetes deployment
- ğŸ“‹ CI/CD pipeline
- ğŸ“‹ Automated testing (Unit, Integration, E2E)
- ğŸ“‹ Performance monitoring (New Relic, Datadog)
- ğŸ“‹ Load balancing
- ğŸ“‹ Database sharding

---

## Káº¾T LUáº¬N

**Sáº¡p Phim** lÃ  má»™t dá»± Ã¡n full-stack hoÃ n chá»‰nh, káº¿t há»£p giá»¯a ná»n táº£ng streaming phim vÃ  máº¡ng xÃ£ há»™i. Dá»± Ã¡n Ä‘Ã£ triá»ƒn khai thÃ nh cÃ´ng cÃ¡c tÃ­nh nÄƒng cá»‘t lÃµi:

### Äiá»ƒm máº¡nh:
1. **Kiáº¿n trÃºc rÃµ rÃ ng**: MVC pattern vá»›i separation of concerns
2. **CÃ´ng nghá»‡ hiá»‡n Ä‘áº¡i**: React 19, Node.js, Socket.IO, AI integration
3. **TÃ­nh nÄƒng phong phÃº**: Streaming, chat, AI, social features
4. **Báº£o máº­t tá»‘t**: JWT, Rate limiting, Helmet, Input validation
5. **Hiá»‡u nÄƒng cao**: Redis caching, Image optimization, Code splitting
6. **Scalable**: Thiáº¿t káº¿ cÃ³ thá»ƒ má»Ÿ rá»™ng dá»… dÃ ng

### ThÃ¡ch thá»©c vÃ  Giáº£i phÃ¡p:
| ThÃ¡ch thá»©c | Giáº£i phÃ¡p Ä‘Ã£ triá»ƒn khai |
|------------|------------------------|
| Real-time communication | Socket.IO vá»›i Redis adapter |
| Video streaming performance | FFmpeg processing, multi-quality |
| Database performance | Indexing, Caching, Pagination |
| Security | JWT, Rate limiting, Helmet, Validation |
| Scalability | Modular architecture, Microservices-ready |
| AI Integration | Google Gemini vá»›i context management |

### GiÃ¡ trá»‹ Ä‘áº¡t Ä‘Æ°á»£c:
- âœ… Há»c vÃ  Ã¡p dá»¥ng cÃ´ng nghá»‡ web hiá»‡n Ä‘áº¡i
- âœ… Hiá»ƒu vá» kiáº¿n trÃºc full-stack application
- âœ… LÃ m viá»‡c vá»›i real-time features
- âœ… TÃ­ch há»£p AI vÃ o á»©ng dá»¥ng thá»±c táº¿
- âœ… Quáº£n lÃ½ dá»± Ã¡n phá»©c táº¡p vá»›i nhiá»u module
- âœ… Ãp dá»¥ng best practices vá» security vÃ  performance

---

## TÃ€I LIá»†U THAM KHáº¢O

1. **React Documentation**: https://react.dev
2. **Node.js Best Practices**: https://github.com/goldbergyoni/nodebestpractices
3. **Express.js Guide**: https://expressjs.com/en/guide/routing.html
4. **Socket.IO Documentation**: https://socket.io/docs/v4/
5. **Sequelize ORM**: https://sequelize.org/docs/v6/
6. **Redis Documentation**: https://redis.io/documentation
7. **Google AI Documentation**: https://ai.google.dev/docs
8. **JWT Best Practices**: https://tools.ietf.org/html/rfc8725

---


**Metrics:**
| Chá»‰ sá»‘ | GiÃ¡ trá»‹ | Ghi chÃº |
|--------|---------|---------|
| **Lines of Code** | ~50,000+ | Backend + Frontend |
| **API Endpoints** | 80+ | RESTful APIs |
| **Database Tables** | 20+ | Normalized schema |
| **React Components** | 150+ | Reusable components |
| **Socket Events** | 15+ | Real-time features |
| **Git Commits** | 500+ | Active development |
| **Sprints Completed** | 5/5 | 100% on schedule |

**Features Implemented:**
âœ… **Core Features** (100%):
- Authentication & Authorization
- Movie Management (CRUD)
- Video Streaming
- User Profile
- Search & Filter

âœ… **Social Features** (100%):
- Friend System
- Real-time Chat
- Comments (Nested)
- Notifications

âœ… **Advanced Features** (80%):
- AI Chatbot âœ…
- AI Recommendations âœ…
- Admin Dashboard âœ…
- Multi-language âœ…
- Reels Module ğŸš§ (In Progress)

### 2.7.2. Screenshots - Production Demo

**(ChÃ¨n screenshots thá»±c táº¿ táº¡i Ä‘Ã¢y)**

**HÃ¬nh 2.5**: Homepage vá»›i featured movies  
**HÃ¬nh 2.6**: Movie detail page vá»›i recommendations  
**HÃ¬nh 2.7**: Video player vá»›i controls  
**HÃ¬nh 2.8**: Chat interface vá»›i real-time messages  
**HÃ¬nh 2.9**: Admin dashboard vá»›i statistics  
**HÃ¬nh 2.10**: Mobile responsive design  

### 2.7.3. Há»c há»i vÃ  Kinh nghiá»‡m

**Kiáº¿n thá»©c Ä‘áº¡t Ä‘Æ°á»£c:**
1. **Full-stack Development**:
   - XÃ¢y dá»±ng á»©ng dá»¥ng tá»« Ä‘áº§u Ä‘áº¿n cuá»‘i
   - TÃ­ch há»£p frontend-backend seamlessly
   - RESTful API design principles

2. **Real-time Communication**:
   - Socket.IO bidirectional events
   - Room-based targeting
   - Scaling vá»›i Redis pub/sub

3. **State Management**:
   - Redux cho global state
   - React Query cho server state
   - Optimistic updates

4. **Database Design**:
   - ERD modeling
   - Normalization
   - Indexing strategies

5. **AI Integration**:
   - API integration vá»›i Google Gemini
   - Prompt engineering
   - Context management

**Challenges & Solutions:**

| Challenge | Solution | Lesson Learned |
|-----------|----------|----------------|
| **Socket disconnection** | Implement retry logic vá»›i exponential backoff | Always handle network failures |
| **N+1 query problem** | Sequelize eager loading vá»›i `include` | Optimize database queries early |
| **Token refresh race condition** | Queue requests while refreshing | Use proper synchronization |
| **CORS errors** | Configure CORS middleware properly | Understand browser security |
| **Image upload slow** | Use Sharp for compression, lazy loading | Optimize assets before upload |
| **State management complexity** | Split into Redux (global) + React Query (server) | Choose right tool for the job |

**Best Practices Applied:**
- âœ… Git branching strategy (feature branches)
- âœ… Code review trÆ°á»›c khi merge
- âœ… Environment variables cho config
- âœ… Error handling vÃ  logging
- âœ… Input validation (frontend + backend)
- âœ… Security best practices (JWT, Bcrypt, Helmet)
- âœ… Responsive design (mobile-first)
- âœ… Component reusability

---

# Káº¾T LUáº¬N VÃ€ HÆ¯á»šNG PHÃT TRIá»‚N

## Káº¿t luáº­n

**Sáº¡p Phim** lÃ  má»™t dá»± Ã¡n **full-stack web application** hoÃ n chá»‰nh, thá»ƒ hiá»‡n viá»‡c Ã¡p dá»¥ng kiáº¿n thá»©c **CÃ´ng Nghá»‡ Pháº§n Má»m** vÃ o thá»±c táº¿. Dá»± Ã¡n Ä‘Ã£ Ä‘áº¡t Ä‘Æ°á»£c cÃ¡c má»¥c tiÃªu Ä‘á» ra:

### Má»¥c tiÃªu Ä‘Ã£ hoÃ n thÃ nh:
âœ… **XÃ¢y dá»±ng ná»n táº£ng streaming phim**:
- Há»— trá»£ phim láº» vÃ  phim bá»™ vá»›i Ä‘áº§y Ä‘á»§ episodes
- Video player vá»›i controls hoÃ n chá»‰nh (play, pause, seek, volume, fullscreen)
- LÆ°u lá»‹ch sá»­ xem vÃ  resume watching
- Multi-language support cho tiÃªu Ä‘á» vÃ  phá»¥ Ä‘á»

âœ… **TÃ­ch há»£p tÃ­nh nÄƒng máº¡ng xÃ£ há»™i**:
- Há»‡ thá»‘ng káº¿t báº¡n Ä‘áº§y Ä‘á»§ (send, accept, reject)
- Real-time chat 1-1 vÃ  nhÃ³m vá»›i Socket.IO
- BÃ¬nh luáº­n nested (3 levels) vá»›i like vÃ  report
- ThÃ´ng bÃ¡o real-time cho cÃ¡c hoáº¡t Ä‘á»™ng

âœ… **á»¨ng dá»¥ng AI**:
- Chatbot tÆ° váº¥n phim vá»›i Google Gemini
- Gá»£i Ã½ phim dá»±a trÃªn lá»‹ch sá»­ vÃ  sá»Ÿ thÃ­ch
- Content moderation tá»± Ä‘á»™ng
- AI tools cho admin (SEO, marketing content generation)

âœ… **Admin Dashboard chuyÃªn nghiá»‡p**:
- CRUD operations cho phim, genres, categories
- Thá»‘ng kÃª vÃ  analytics
- User management
- Comment moderation

### GiÃ¡ trá»‹ Ä‘áº¡t Ä‘Æ°á»£c:

**1. Vá» máº·t ká»¹ thuáº­t:**
- Thá»±c hÃ nh quy trÃ¬nh phÃ¡t triá»ƒn Agile/Scrum
- LÃ m viá»‡c vá»›i cÃ´ng nghá»‡ hiá»‡n Ä‘áº¡i (React 19, Node.js, Socket.IO, AI)
- Ãp dá»¥ng kiáº¿n trÃºc MVC vÃ  design patterns
- Database design vÃ  optimization
- Security best practices

**2. Vá» máº·t nhÃ³m:**
- LÃ m viá»‡c nhÃ³m hiá»‡u quáº£ vá»›i Git
- Code review vÃ  collaboration
- Task management vá»›i Trello
- Communication skills

**3. Vá» máº·t sáº£n pháº©m:**
- Má»™t á»©ng dá»¥ng cÃ³ thá»ƒ deploy vÃ  sá»­ dá»¥ng thá»±c táº¿
- UI/UX modern vá»›i Liquid Glass design
- Responsive trÃªn nhiá»u devices
- Performance tá»‘t (Lighthouse 90+)

### Äiá»ƒm máº¡nh cá»§a dá»± Ã¡n:

| Äiá»ƒm máº¡nh | MÃ´ táº£ |
|-----------|-------|
| **Kiáº¿n trÃºc rÃµ rÃ ng** | MVC pattern, separation of concerns |
| **CÃ´ng nghá»‡ hiá»‡n Ä‘áº¡i** | Latest versions cá»§a React, Node.js |
| **TÃ­nh nÄƒng phong phÃº** | Streaming + Social + AI |
| **Báº£o máº­t tá»‘t** | JWT, Bcrypt, Rate limiting, Helmet |
| **Hiá»‡u nÄƒng cao** | Redis caching, Image optimization, Code splitting |
| **Scalable** | CÃ³ thá»ƒ má»Ÿ rá»™ng dá»… dÃ ng (microservices-ready) |
| **Real-time** | Socket.IO cho chat vÃ  notifications |
| **AI-powered** | Google Gemini integration |

### Háº¡n cháº¿ vÃ  thÃ¡ch thá»©c:

| Háº¡n cháº¿ | Giáº£i phÃ¡p tÆ°Æ¡ng lai |
|---------|---------------------|
| **ChÆ°a cÃ³ unit tests** | Viáº¿t tests vá»›i Jest vÃ  Cypress |
| **ChÆ°a deploy production** | Deploy lÃªn cloud (AWS, GCP, Vercel) |
| **ChÆ°a cÃ³ CDN** | TÃ­ch há»£p CloudFlare hoáº·c AWS CloudFront |
| **Mobile app chÆ°a cÃ³** | PhÃ¡t triá»ƒn React Native app |
| **Payment chÆ°a tÃ­ch há»£p** | TÃ­ch há»£p Stripe hoáº·c VNPay |
| **Analytics cÃ²n cÆ¡ báº£n** | ThÃªm Google Analytics, heatmaps |

---

## HÆ°á»›ng phÃ¡t triá»ƒn

### Phase 1 - Short Term (1-2 thÃ¡ng)

**HoÃ n thiá»‡n tÃ­nh nÄƒng hiá»‡n táº¡i:**
- ğŸ”¨ HoÃ n thÃ nh Reels Module (TikTok-like short videos)
- ğŸ§ª Viáº¿t unit tests vÃ  integration tests
- ğŸ“± Optimize cho mobile (PWA)
- ğŸ” Two-Factor Authentication (2FA)
- ğŸ“§ Email notifications
- ğŸŒ Internationalization (i18n) cho toÃ n bá»™ UI

**Technical Debt:**
- Refactor code duplications
- Improve error handling
- Add API documentation (Swagger/OpenAPI)
- Performance profiling vÃ  optimization

### Phase 2 - Medium Term (3-6 thÃ¡ng)

**New Features:**
- ğŸ‰ **Watch Party**: Xem phim cÃ¹ng báº¡n bÃ¨ real-time
- ğŸ™ï¸ **Subtitle Editor**: User cÃ³ thá»ƒ táº¡o vÃ  edit phá»¥ Ä‘á»
- ğŸ“± **Mobile Apps**: React Native cho iOS vÃ  Android
- ğŸ’³ **Payment Integration**: Premium subscription
- ğŸ“º **Live Streaming**: Livestream events
- ğŸ® **Gamification**: Points, badges, achievements
- ğŸ“° **News & Blog**: Movie news vÃ  reviews
- ğŸ” **Advanced Search**: Elasticsearch integration

**Infrastructure:**
- Migrate to microservices architecture
- Implement CI/CD pipeline (GitHub Actions)
- Deploy to production (AWS/GCP)
- Setup monitoring (Datadog, New Relic)
- Implement load balancing
- Database sharding cho scale

### Phase 3 - Long Term (6-12 thÃ¡ng)

**Advanced Features:**
- ğŸ¤– **Advanced AI**: 
  - Machine learning recommendation system
  - Personalized homepage
  - Auto-generated movie summaries
  - Voice search vÃ  voice commands
- ğŸ“Š **Analytics Dashboard**: 
  - User behavior tracking
  - A/B testing platform
  - Business intelligence
- ğŸŒ **International Expansion**:
  - Multi-region deployment
  - Content delivery network (CDN)
  - Multiple language support (full i18n)
- ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ **Parental Controls**:
  - Content rating system
  - Kids mode
  - Viewing restrictions
- â™¿ **Accessibility**:
  - WCAG 2.1 compliance
  - Screen reader support
  - Keyboard navigation
  - Audio descriptions

**Business Features:**
- ğŸ’° Ad-supported free tier
- ğŸ‘¥ Family plans
- ğŸ Gift subscriptions
- ğŸ¢ Corporate/Educational licenses
- ğŸ“ˆ Revenue analytics

### Technology Roadmap

```
Current Stack          â†’    Future Stack
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Monolith               â†’    Microservices
REST API               â†’    GraphQL API
MySQL                  â†’    PostgreSQL + MongoDB
Redis                  â†’    Redis Cluster
Manual Deploy          â†’    CI/CD (GitHub Actions)
Single Server          â†’    Kubernetes cluster
No CDN                 â†’    CloudFlare/AWS CloudFront
Basic Analytics        â†’    BigQuery + Tableau
Manual Testing         â†’    Automated Testing (Jest, Cypress)
```

---

# TÃ€I LIá»†U THAM KHáº¢O

## SÃ¡ch vÃ  TÃ i liá»‡u há»c thuáº­t

1. **Sommerville, I. (2015)**. *Software Engineering (10th ed.)*. Pearson Education.
   - ChÆ°Æ¡ng 2: Software Processes
   - ChÆ°Æ¡ng 4: Requirements Engineering
   - ChÆ°Æ¡ng 5: System Modeling

2. **Pressman, R. S., & Maxim, B. R. (2014)**. *Software Engineering: A Practitioner's Approach (8th ed.)*. McGraw-Hill Education.
   - Pháº§n II: Modeling
   - Pháº§n III: Quality Management

3. **Fowler, M. (2018)**. *Refactoring: Improving the Design of Existing Code (2nd ed.)*. Addison-Wesley Professional.
   - Best practices cho clean code

## Documentation & Official Guides

4. **React Documentation** (2024). Retrieved from https://react.dev
   - React 19 new features: Actions, use() hook, Server Components
   - Hooks API reference
   - Best practices vÃ  performance optimization

5. **Node.js Documentation** (2024). Retrieved from https://nodejs.org/docs
   - Best practices for Node.js applications
   - Security guidelines

6. **Express.js Guide** (2024). Retrieved from https://expressjs.com/en/guide/routing.html
   - Routing vÃ  middleware
   - Error handling
   - Production best practices

7. **Socket.IO Documentation** (2024). Retrieved from https://socket.io/docs/v4/
   - Server API
   - Client API
   - Namespaces vÃ  rooms
   - Scaling with Redis adapter

8. **Sequelize ORM Documentation** (2024). Retrieved from https://sequelize.org/docs/v6/
   - Model definition
   - Associations
   - Query optimization
   - Migrations

9. **Redis Documentation** (2024). Retrieved from https://redis.io/documentation
   - Data structures
   - Caching strategies
   - Pub/Sub patterns

10. **Google AI Documentation** (2024). Retrieved from https://ai.google.dev/docs
    - Gemini API reference
    - Prompt design guidelines
    - Safety settings

## Online Resources & Tutorials

11. **MDN Web Docs** (2024). *JavaScript Reference*. Retrieved from https://developer.mozilla.org/en-US/docs/Web/JavaScript
    - ES6+ features
    - Async/Await patterns
    - Promises

12. **GitHub Best Practices** (2024). Retrieved from https://github.com/goldbergyoni/nodebestpractices
    - Node.js best practices repository
    - Security practices
    - Error handling patterns

13. **OWASP** (2024). *OWASP Top 10 - 2021*. Retrieved from https://owasp.org/www-project-top-ten/
    - Web application security risks
    - Prevention cheat sheets

14. **JWT.io** (2024). *JSON Web Tokens Introduction*. Retrieved from https://jwt.io/introduction
    - JWT structure
    - Best practices for tokens

15. **Web.dev by Google** (2024). Retrieved from https://web.dev
    - Performance optimization
    - Lighthouse scoring guide
    - Core Web Vitals

## Tools & Platforms Documentation

16. **Trello** (2024). *Trello Guide*. Retrieved from https://trello.com/guide
    - Project management vá»›i Trello
    - Agile workflows

17. **Figma** (2024). *Figma Help Center*. Retrieved from https://help.figma.com
    - Design systems
    - Collaborative design

18. **Postman** (2024). *Postman Learning Center*. Retrieved from https://learning.postman.com
    - API testing
    - Collections vÃ  environments

19. **MySQL Documentation** (2024). Retrieved from https://dev.mysql.com/doc/
    - Database design
    - Indexing strategies
    - Performance tuning

20. **Firebase Documentation** (2024). Retrieved from https://firebase.google.com/docs
    - Authentication
    - Cloud Storage
    - Security rules

## Video Courses & Tutorials

21. **Academind** (2024). *React - The Complete Guide*. Udemy.

22. **Maximilian SchwarzmÃ¼ller** (2024). *NodeJS - The Complete Guide (MVC, REST APIs, GraphQL, Deno)*. Udemy.

23. **Traversy Media** (2024). *Full Stack Development Tutorials*. YouTube Channel.

24. **Fireship** (2024). *100 Seconds of Code Series*. YouTube Channel.
    - Quick tech overviews
    - Modern web development

## Research Papers & Articles

25. **Fielding, R. T. (2000)**. *Architectural Styles and the Design of Network-based Software Architectures*. Doctoral dissertation, University of California, Irvine.
    - REST API design principles

26. **Dean, J., & Ghemawat, S. (2008)**. *MapReduce: Simplified Data Processing on Large Clusters*. Communications of the ACM, 51(1), 107-113.
    - Distributed systems patterns

## Community & Forums

27. **Stack Overflow** (2024). Retrieved from https://stackoverflow.com
    - Problem solving
    - Best practices discussions

28. **Reddit - r/webdev, r/reactjs, r/node** (2024). Retrieved from https://reddit.com
    - Community discussions
    - Latest trends

29. **Dev.to** (2024). Retrieved from https://dev.to
    - Technical articles
    - Tutorials

## GitHub Repositories (Open Source Learning)

30. **Awesome Lists** (2024). Retrieved from:
    - https://github.com/enaqx/awesome-react
    - https://github.com/sindresorhus/awesome-nodejs
    - https://github.com/dypsilon/frontend-dev-bookmarks

---

## PHá»¤ Lá»¤C

### A. Glossary (Thuáº­t ngá»¯)

| Thuáº­t ngá»¯ | Giáº£i thÃ­ch |
|-----------|------------|
| **API** | Application Programming Interface - Giao diá»‡n láº­p trÃ¬nh á»©ng dá»¥ng |
| **CRUD** | Create, Read, Update, Delete - CÃ¡c thao tÃ¡c cÆ¡ báº£n trÃªn dá»¯ liá»‡u |
| **JWT** | JSON Web Token - Token xÃ¡c thá»±c dáº¡ng JSON |
| **ORM** | Object-Relational Mapping - Ãnh xáº¡ Ä‘á»‘i tÆ°á»£ng quan há»‡ |
| **REST** | Representational State Transfer - Kiáº¿n trÃºc API |
| **SPA** | Single Page Application - á»¨ng dá»¥ng má»™t trang |
| **WebSocket** | Giao thá»©c káº¿t ná»‘i hai chiá»u real-time |
| **MVC** | Model-View-Controller - MÃ´ hÃ¬nh thiáº¿t káº¿ |
| **ERD** | Entity Relationship Diagram - Biá»ƒu Ä‘á»“ quan há»‡ thá»±c thá»ƒ |
| **CDN** | Content Delivery Network - Máº¡ng phÃ¢n phá»‘i ná»™i dung |
| **CI/CD** | Continuous Integration/Continuous Deployment |
| **Bcrypt** | Thuáº­t toÃ¡n hash password |
| **Redis** | In-memory data store dÃ¹ng cho caching |
| **Socket.IO** | Library cho real-time bidirectional communication |
| **Sequelize** | ORM cho Node.js (há»— trá»£ MySQL, PostgreSQL, SQLite) |

### B. Code Repository

**GitHub Repository**: https://github.com/wwan-code/rap-re

**Branch Structure:**
```
main                    # Production-ready code
â”œâ”€â”€ develop            # Integration branch
â”œâ”€â”€ feat/authentication
â”œâ”€â”€ feat/movie-management
â”œâ”€â”€ feat/chat-system
â”œâ”€â”€ feat/ai-integration
â””â”€â”€ feat/reels-module  # Current development
```

### C. Demo & Credentials

**Live Demo** (náº¿u Ä‘Ã£ deploy):
- URL: https://sapphim.com (example)
- Admin: admin@sapphim.com / Admin@123
- User: user@sapphim.com / User@123

**Local Development:**
```bash
# Backend: http://localhost:5000
# Frontend: http://localhost:5173
```

### D. Team Contribution

| ThÃ nh viÃªn | Vai trÃ² | CÃ´ng viá»‡c chÃ­nh |
|------------|---------|-----------------|
| Member 1 | Team Lead / Backend | Architecture design, Authentication, API development |
| Member 2 | Frontend Lead | React components, UI/UX, State management |
| Member 3 | Full-stack | Socket.IO, Real-time features, AI integration |
| Member 4 | UI/UX Designer / Frontend | Figma design, CSS/SASS, Responsive design |

---

## Lá»œI Cáº¢M Æ N

NhÃ³m chÃºng em xin chÃ¢n thÃ nh cáº£m Æ¡n:

- **Tháº§y/CÃ´ [TÃªn giáº£ng viÃªn]** Ä‘Ã£ táº­n tÃ¬nh hÆ°á»›ng dáº«n vÃ  gÃ³p Ã½ trong suá»‘t quÃ¡ trÃ¬nh thá»±c hiá»‡n Ä‘á» tÃ i.

- **Khoa CÃ´ng Nghá»‡ ThÃ´ng Tin** Ä‘Ã£ táº¡o Ä‘iá»u kiá»‡n vÃ  cung cáº¥p tÃ i nguyÃªn cho nhÃ³m há»c táº­p vÃ  nghiÃªn cá»©u.

- **Cá»™ng Ä‘á»“ng open-source** trÃªn GitHub, Stack Overflow, Reddit Ä‘Ã£ chia sáº» kiáº¿n thá»©c vÃ  giáº£i Ä‘Ã¡p tháº¯c máº¯c.

- **Gia Ä‘Ã¬nh vÃ  báº¡n bÃ¨** Ä‘Ã£ Ä‘á»™ng viÃªn vÃ  há»— trá»£ nhÃ³m trong suá»‘t thá»i gian thá»±c hiá»‡n dá»± Ã¡n.

Máº·c dÃ¹ Ä‘Ã£ cá»‘ gáº¯ng háº¿t mÃ¬nh, nhÆ°ng do thá»i gian vÃ  kinh nghiá»‡m cÃ²n háº¡n cháº¿, dá»± Ã¡n khÃ´ng trÃ¡nh khá»i nhá»¯ng thiáº¿u sÃ³t. Ráº¥t mong nháº­n Ä‘Æ°á»£c sá»± gÃ³p Ã½ cá»§a tháº§y cÃ´ vÃ  cÃ¡c báº¡n Ä‘á»ƒ nhÃ³m cÃ³ thá»ƒ hoÃ n thiá»‡n hÆ¡n trong tÆ°Æ¡ng lai.

Xin chÃ¢n thÃ nh cáº£m Æ¡n!

---

**NgÃ y hoÃ n thÃ nh bÃ¡o cÃ¡o**: 13 thÃ¡ng 11 nÄƒm 2025  
**Äá»‹a Ä‘iá»ƒm**: [TÃªn trÆ°á»ng], [TÃªn thÃ nh phá»‘]

---

*Káº¿t thÃºc bÃ¡o cÃ¡o*
